(globalThis.webpackChunkng_easy=globalThis.webpackChunkng_easy||[]).push([[179],{"./libs/image/src/lib sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./image-list.component.stories.ts":"./libs/image/src/lib/image-list.component.stories.ts","./image.component.stories.ts":"./libs/image/src/lib/image.component.stories.ts"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./libs/image/src/lib sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./libs/image/src/lib sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./readme.stories.mdx":"./libs/image/src/lib/readme.stories.mdx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./libs/image/src/lib sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"},"./libs/image-config/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function dedupAndSortImageSizes(imageSizes){return[...new Set([...imageSizes])].sort(((a,b)=>a-b))}var ImageFormat;__webpack_require__.d(__webpack_exports__,{D3:()=>ImageFormat,_l:()=>dedupAndSortImageSizes,CC:()=>defaultImageOptimizerConfig,zo:()=>getImageFormat,V9:()=>getImageMimeType}),function(ImageFormat){ImageFormat.Png="png",ImageFormat.Jpeg="jpeg",ImageFormat.Webp="webp",ImageFormat.Avif="avif",ImageFormat.Heif="heif"}(ImageFormat||(ImageFormat={}));const imageFormatRegexMap=Object.values(ImageFormat).reduce(((map,format)=>(map[format]=format===ImageFormat.Jpeg?/\.jpe?g$/i:new RegExp(`\\.${format}$`,"i"),map)),{});function getImageFormat(src){for(const format in imageFormatRegexMap){if(imageFormatRegexMap[format].test(src))return format}throw new Error(`Image with src "${src}" has an unknown extension.`)}const imageTypeMap=Object.values(ImageFormat).reduce(((map,format)=>(map[format]=`image/${format}`,map)),{});function getImageMimeType(srcOrFormat){if(imageTypeMap[srcOrFormat])return imageTypeMap[srcOrFormat];const format=getImageFormat(srcOrFormat);return imageTypeMap[format]}const defaultImageOptimizerConfig={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],quality:{"slow-2g":30,"2g":40,"3g":50,"4g":75,saveData:40,default:75},formats:[ImageFormat.Jpeg,ImageFormat.Webp]}},"./libs/image/src/lib/component/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>ImageComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var coercion=__webpack_require__("./node_modules/@angular/cdk/fesm2020/coercion.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),platform_browser=__webpack_require__("./node_modules/@angular/platform-browser/fesm2020/platform-browser.mjs"),Subject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),startWith=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/startWith.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),BehaviorSubject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),of=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),take=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/take.js"),services=__webpack_require__("./libs/image/src/lib/services/index.ts"),tokens=__webpack_require__("./libs/image/src/lib/tokens/index.ts");let ImageComponent=class ImageComponent{constructor(imageLoaderRegistry,window,domSanitizer,elementRef,intersection,lazyLoadingSupport,imageIntersectionObserverOptions){this.imageLoaderRegistry=imageLoaderRegistry,this.window=window,this.domSanitizer=domSanitizer,this.elementRef=elementRef,this.intersection=intersection,this.lazyLoadingSupport=lazyLoadingSupport,this.imageIntersectionObserverOptions=imageIntersectionObserverOptions,this.src="",this.alt="",this.layout="intrinsic",this.sizes="100vw",this.priority=!1,this.placeholder="empty",this.unoptimized=!1,this.objectFit="cover",this.objectPosition="50% 50%",this.loadingComplete=new core.EventEmitter,this.imageLoader=this.imageLoaderRegistry.getLoader(),this.ngOnChanges$=new Subject.x,this.changes$=this.ngOnChanges$.pipe((0,startWith.O)(void 0)),this.sizerSvg$=this.changes$.pipe((0,map.U)((()=>{if("intrinsic"!==this.layout)return null;const sizerSvg=this.window.btoa(`<svg width="${this.width}" height="${this.height}" xmlns="http://www.w3.org/2000/svg" version="1.1"/>`);return this.domSanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${sizerSvg}`)}))),this.sources$=this.changes$.pipe((0,map.U)((()=>this.imageLoader.getImageSources({src:this.src,width:this.width,layout:this.layout,sizes:this.sizes,unoptimized:this.unoptimized})))),this.isImageLoaded$=new BehaviorSubject.X(!1),this.blurFilter$=this.changes$.pipe((0,switchMap.w)((()=>this.isImageLoaded$)),(0,map.U)((isImageLoaded=>"blur"===this.placeholder&&this.blurDataURL&&!isImageLoaded?"blur(20px)":"none"))),this.blurBackgroundImage$=this.changes$.pipe((0,map.U)((()=>"blur"===this.placeholder?this.blurDataURL?`url("${this.blurDataURL}")`:`url("${this.imageLoader.getPlaceholderSrc(this.src)}")`:"none"))),this.isVisible$=this.changes$.pipe((0,switchMap.w)((()=>this.lazyLoadingSupport||this.priority?(0,of.of)(!0):this.intersection.isVisible(this.elementRef.nativeElement,this.imageIntersectionObserverOptions))),(0,filter.h)((isVisible=>isVisible)),(0,take.q)(1))}get width(){return this._width}set width(v){this._width=null!=v?Math.max(0,(0,coercion.su)(v)):void 0}get height(){return this._height}set height(v){this._height=null!=v?Math.max(0,(0,coercion.su)(v)):void 0}set loader(loaderName){this.imageLoader=this.imageLoaderRegistry.getLoader(loaderName)}get loading(){return this.priority?"eager":"lazy"}get showSizer(){return"intrinsic"===this.layout||"responsive"===this.layout}get sizeRatio(){return null==this.height||null==this.width?0:this.height/this.width}get sizerPaddingTop(){return"responsive"===this.layout?100*this.sizeRatio+"%":"auto"}get wrapperWidth(){return"fixed"===this.layout?`${this.width??0}px`:"auto"}get wrapperHeight(){return"fixed"===this.layout?`${this.height??0}px`:"auto"}ngOnChanges(){this.validateInputs(),this.ngOnChanges$.next()}ngAfterViewInit(){this.image?.nativeElement.complete&&this.onLoad()}getImageMime(_,{mimeType:mime}){return mime}onLoad(){if(this.image){if(this.image.nativeElement.src.startsWith("data:"))this.isImageLoaded$.next(!0);else{("decode"in this.image.nativeElement?this.image.nativeElement.decode():Promise.resolve()).catch((()=>null)).then((()=>{this.isImageLoaded$.next(!0),this.loadingComplete.emit()}))}if((0,core.isDevMode)()&&"fixed"===this.layout){const{naturalWidth,naturalHeight}=this.image.nativeElement;null!=this.width&&this.width!=naturalWidth&&console.warn(`Image with src "${this.src}" should have "width" of ${naturalWidth}.`),null!=this.height&&this.height!=naturalHeight&&console.warn(`Image with src "${this.src}" should have "height" of ${naturalHeight}.`)}}}validateInputs(){if(this.src.startsWith("data:")&&(this.unoptimized=!0,this.priority=!1),"fill"!==this.layout&&(null==this.width||null==this.height||this.width<=0||this.height<=0))throw new Error(`Image with src "${this.src}" must use "width" and "height" properties or "layout='fill'" property.`);(0,core.isDevMode)()&&("fill"!==this.layout||null==this.width&&null==this.height||console.warn(`Image with src "${this.src}" and "layout='fill'" has unused properties assigned. Please remove "width" and "height".`),0===this.alt.trim().length&&console.warn(`Image with src "${this.src}" must use an "alt" property.`),this.unoptimized||this.imageLoader.supportsWidth||console.warn(`Image with src "${this.src}" uses a loader that does not implement width. Please implement it or use the "unoptimized" property instead.`),"blur"===this.placeholder&&("fill"!==this.layout&&(this.width??0)*(this.height??0)<1600&&console.warn(`Image with src "${this.src}" is smaller than 40x40. Consider removing the "placeholder='blur'" property to improve performance.`),this.blurDataURL||this.imageLoader.supportsWidth||console.warn(`Image with src "${this.src}" has "placeholder='blur'" property but is missing the "blurDataURL" property. Placeholder could be fetched from the loader, but it doesn't support optimization. Please implement it, or pass an inline "blurDataURL".`)))}};ImageComponent.ctorParameters=()=>[{type:services.LP},{type:Window},{type:platform_browser.DomSanitizer},{type:core.ElementRef},{type:services.te},{type:Boolean,decorators:[{type:core.Inject,args:[tokens.J0]}]},{type:void 0,decorators:[{type:core.Inject,args:[tokens.rJ]}]}],ImageComponent.propDecorators={image:[{type:core.ViewChild,args:["image",{static:!1}]}],src:[{type:core.Input}],alt:[{type:core.Input}],width:[{type:core.Input}],height:[{type:core.Input}],layout:[{type:core.Input}],loader:[{type:core.Input}],sizes:[{type:core.Input}],priority:[{type:core.Input}],placeholder:[{type:core.Input}],blurDataURL:[{type:core.Input}],unoptimized:[{type:core.Input}],objectFit:[{type:core.Input}],objectPosition:[{type:core.Input}],loadingComplete:[{type:core.Output}]},ImageComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"image[src]",template:'<div\n  class="wrapper wrapper--{{ layout }}"\n  [style.width]="wrapperWidth"\n  [style.height]="wrapperHeight"\n  *ngIf="{ isVisible: isVisible$ | async } as context"\n>\n  <div class="sizer sizer--{{ layout }}" [style.padding-top]="sizerPaddingTop" *ngIf="showSizer">\n    <img *ngIf="sizerSvg$ | async as sizerSrc" [src]="sizerSrc" class="sizer__content" aria-hidden="true" alt="" role="presentation" />\n  </div>\n  <picture>\n    <ng-container *ngFor="let source of sources$ | async; let last = last; trackBy: getImageMime">\n      <ng-template #sourceTemplate>\n        <source [type]="source.mimeType" [srcset]="source.srcset" [sizes]="sizes" />\n      </ng-template>\n      <img\n        #image\n        *ngIf="last; else sourceTemplate"\n        class="img"\n        [alt]="alt"\n        [attr.loading]="loading"\n        decoding="async"\n        [style.objectFit]="objectFit"\n        [style.objectPosition]="objectPosition"\n        [style.backgroundSize]="objectFit"\n        [style.backgroundPosition]="objectPosition"\n        [style.backgroundImage]="(blurBackgroundImage$ | async) ?? \'none\'"\n        [style.filter]="blurFilter$ | async"\n        [srcset]="context.isVisible ? source.srcset : \'\'"\n        [sizes]="context.isVisible ? source.sizes : \'\'"\n        [src]="context.isVisible ? source.src : \'\'"\n        (load)="onLoad()"\n      />\n    </ng-container>\n  </picture>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[":host {\n  display: block;\n  line-height: 0;\n  font-size: 0;\n}\n\n.wrapper {\n  display: block;\n  overflow: hidden;\n  box-sizing: border-box;\n  margin: 0;\n}\n\n.wrapper--fill {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n\n.wrapper--responsive {\n  position: relative;\n}\n\n.wrapper--intrinsic {\n  display: inline-block;\n  max-width: 100%;\n  position: relative;\n}\n\n.wrapper--fixed {\n  display: inline-block;\n  position: relative;\n}\n\n.wrapper .sizer {\n  display: block;\n  box-sizing: border-box;\n}\n\n.wrapper .sizer--intrinsic {\n  max-width: 100%;\n}\n\n.wrapper .sizer .sizer__content {\n  max-width: 100%;\n  display: block;\n  margin: 0;\n  border: none;\n  padding: 0;\n}\n\n.img {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  box-sizing: border-box;\n  padding: 0;\n  border: none;\n  margin: auto;\n  display: block;\n  width: 0;\n  height: 0;\n  min-width: 100%;\n  max-width: 100%;\n  min-height: 100%;\n  max-height: 100%;\n  transition: filter 0.1s ease-in-out;\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .img {\n    transition: none;\n  }\n}"]}),(0,tslib_es6.w6)("design:paramtypes",[services.LP,Window,platform_browser.DomSanitizer,core.ElementRef,services.te,Boolean,Object])],ImageComponent)},"./libs/image/src/lib/image.module.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>ImageModule});var ImageModule_1,tslib__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_angular_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@angular/common/fesm2020/common.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),_ng_easy_image_config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/image-config/src/index.ts"),_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/image/src/lib/component/index.ts"),_loaders__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/image/src/lib/loaders/index.ts"),_services__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/image/src/lib/services/index.ts"),_tokens__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/image/src/lib/tokens/index.ts");let ImageModule=ImageModule_1=class ImageModule{constructor(loaders,loaderRegistry){loaderRegistry.registerLoaders(loaders)}static forRoot({imageOptimizerConfig,loaders}){const classLoaders=loaders.filter((loader=>null!=loader.prototype)),factoryLoaders=loaders.filter((loader=>null==loader.prototype));return{ngModule:ImageModule_1,providers:[...classLoaders.map((loader=>({provide:_loaders__WEBPACK_IMPORTED_MODULE_2__.S3,useClass:loader,multi:!0}))),...factoryLoaders.map((loader=>({provide:_loaders__WEBPACK_IMPORTED_MODULE_2__.S3,useFactory:loader,multi:!0}))),{provide:_tokens__WEBPACK_IMPORTED_MODULE_4__.zb,useValue:imageOptimizerConfig??_ng_easy_image_config__WEBPACK_IMPORTED_MODULE_0__.CC},{provide:Window,useValue:window}]}}};ImageModule.ctorParameters=()=>[{type:Array,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_5__.Inject,args:[_loaders__WEBPACK_IMPORTED_MODULE_2__.S3]}]},{type:_services__WEBPACK_IMPORTED_MODULE_3__.LP}],ImageModule=ImageModule_1=(0,tslib__WEBPACK_IMPORTED_MODULE_6__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_5__.NgModule)({declarations:[_component__WEBPACK_IMPORTED_MODULE_1__.c],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_7__.ez],exports:[_component__WEBPACK_IMPORTED_MODULE_1__.c]}),(0,tslib__WEBPACK_IMPORTED_MODULE_6__.w6)("design:paramtypes",[Array,_services__WEBPACK_IMPORTED_MODULE_3__.LP])],ImageModule)},"./libs/image/src/lib/loaders/akamai-loader.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>akamaiImageLoader});var _angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),_tokens__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/image/src/lib/tokens/index.ts"),_image_loader__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/image/src/lib/loaders/image-loader.ts");class AkamaiImageLoader extends _image_loader__WEBPACK_IMPORTED_MODULE_1__.S{constructor(root,imageOptimizerConfig){super(imageOptimizerConfig),this.root=root,this.name="akamai"}getImageUrl({src,width}){return`${this.root}/${this.normalizeSrc(src)}?imwidth=${width}`}}const akamaiImageLoader=root=>()=>new AkamaiImageLoader(root,(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(_tokens__WEBPACK_IMPORTED_MODULE_0__.zb))},"./libs/image/src/lib/loaders/image-loader.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{S:()=>ImageLoader});var core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),image_config_src=__webpack_require__("./libs/image-config/src/index.ts");var tokens=__webpack_require__("./libs/image/src/lib/tokens/index.ts");const viewportWidthRe=/(^|\s)(1?\d?\d)vw/g,preferredOptimizedFormats=[image_config_src.D3.Webp,image_config_src.D3.Avif,image_config_src.D3.Heif,image_config_src.D3.Jpeg],randomWidth=Math.floor(1e3*Math.random())+100;class ImageLoader{constructor(imageOptimizerConfig){this.imageOptimizerConfig=imageOptimizerConfig,this.allSizes=(0,image_config_src._l)([...this.imageOptimizerConfig.deviceSizes,...this.imageOptimizerConfig.imageSizes]),this.deviceSizes=(0,image_config_src._l)(this.imageOptimizerConfig.deviceSizes),this.supportsWidth=this.getImageUrl({src:"test",width:randomWidth,quality:75,format:image_config_src.D3.Jpeg}).includes(randomWidth.toString()),this.supportsFormat=this.getImageUrl({src:"test",width:randomWidth,quality:75,format:image_config_src.D3.Webp}).includes(image_config_src.D3.Webp);const supportedFormats=new Set([...imageOptimizerConfig.formats,image_config_src.D3.Jpeg]),preferredOptimizedFormat=preferredOptimizedFormats.find((preferredFormat=>supportedFormats.has(preferredFormat)));if(null==preferredOptimizedFormat)throw new Error("There is not a supported preferred image optimizer format.");this.preferredOptimizedFormat=preferredOptimizedFormat}getImageSources({src,width,layout,sizes,unoptimized}){if(unoptimized)return[{src,sizes:"",srcset:"",mimeType:(0,image_config_src.V9)(src)}];const{widths,kind}=this.getWidths(width,layout,sizes),quality=function getQuality(configQuality){if("number"==typeof configQuality)return configQuality;if(!("connection"in window.navigator))return configQuality.default;const connection=window.navigator.connection;if(connection.saveData)return configQuality.saveData;switch(connection.effectiveType){case"slow-2g":return configQuality["slow-2g"];case"2g":return configQuality["2g"];case"3g":return configQuality["3g"];case"4g":return configQuality["4g"]}}(this.imageOptimizerConfig.quality),supportedWidths=widths.filter((sourceWidth=>null==width||sourceWidth<=width));return(0,core.isDevMode)()&&widths.length>supportedWidths.length&&console.warn(`Image with src "${src}" has width only of ${width}px. Use a image with at least a width of ${widths[widths.length-1]}px to display it nicely on big screens.`),this.getImageOptimizedFormats(src,unoptimized).map((format=>({sizes:sizes||"w"!==kind?sizes:"100vw",srcset:supportedWidths.map(((width,index)=>`${this.getImageUrl({src,quality,width,format})} ${"w"===kind?width:index+1}${kind}`)).join(", "),src:this.getImageUrl({src,quality,width:supportedWidths[supportedWidths.length-1]??width,format}),mimeType:(0,image_config_src.V9)(format)})))}getPlaceholderSrc(src){return this.getImageUrl({src,quality:15,width:15,format:(0,image_config_src.zo)(src)})}getImageOptimizedFormats(src,unoptimized){const format=(0,image_config_src.zo)(src);return this.supportsFormat?format===image_config_src.D3.Png?[image_config_src.D3.Png]:unoptimized?[format]:[...new Set([this.preferredOptimizedFormat,image_config_src.D3.Jpeg])]:[format]}getWidths(width,layout,sizes){if(sizes&&("fill"===layout||"responsive"===layout)){const percentSizes=[];for(let match;match=viewportWidthRe.exec(sizes);match)percentSizes.push(parseInt(match[2]));if(percentSizes.length){const smallestRatio=.01*Math.min(...percentSizes);return{widths:this.allSizes.filter((size=>size>=this.deviceSizes[0]*smallestRatio)),kind:"w"}}return{widths:[...this.allSizes],kind:"w"}}if(null==width||"fill"===layout||"responsive"===layout)return{widths:[...this.deviceSizes],kind:"w"};return{widths:[...new Set([width,2*width].map((w=>this.allSizes.find((p=>p>=w))||this.allSizes[this.allSizes.length-1])))],kind:"x"}}normalizeSrc(src){return src=(src=src.startsWith("/")?src.slice(1):src).endsWith("/")?src.slice(0,-1):src}}ImageLoader.ctorParameters=()=>[{type:void 0,decorators:[{type:core.Inject,args:[tokens.zb]}]}]},"./libs/image/src/lib/loaders/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{S3:()=>image_loader.S,pL:()=>ImigixImageLoader,sV:()=>akamai_loader.s,tI:()=>cloudinaryImageLoader});var akamai_loader=__webpack_require__("./libs/image/src/lib/loaders/akamai-loader.ts"),core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),tokens=__webpack_require__("./libs/image/src/lib/tokens/index.ts"),image_loader=__webpack_require__("./libs/image/src/lib/loaders/image-loader.ts");class CloudinaryImageLoader extends image_loader.S{constructor(root,imageOptimizerConfig){super(imageOptimizerConfig),this.root=root,this.name="cloudinary"}getImageUrl({src,width,quality,format}){const supportedFormat=format.replace(/jpeg/,"jpg");return`${this.root}/f_${supportedFormat},w_${width},q_${quality}/${this.normalizeSrc(src)}`}}const cloudinaryImageLoader=root=>()=>new CloudinaryImageLoader(root,(0,core.inject)(tokens.zb));var ImigixImageLoader_1,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");let ImigixImageLoader=ImigixImageLoader_1=class ImigixImageLoader extends image_loader.S{constructor(){super(...arguments),this.name="imigix"}getImageUrl({src,width,quality,format}){return`${ImigixImageLoader_1.root}/${this.normalizeSrc(src)}?w=${width}&q=${quality}&fm=${format}`}};ImigixImageLoader.root="https://assets.imgix.net",ImigixImageLoader=ImigixImageLoader_1=(0,tslib_es6.gn)([(0,core.Injectable)()],ImigixImageLoader);let RuntimeImageLoader=class RuntimeImageLoader extends image_loader.S{constructor(){super(...arguments),this.name="runtime"}getImageUrl({src,width,quality,format}){return`${src}?w=${width}&q=${quality}&fm=${format}`}};RuntimeImageLoader=(0,tslib_es6.gn)([(0,core.Injectable)()],RuntimeImageLoader)},"./libs/image/src/lib/services/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{LP:()=>ImageLoaderRegistry,te:()=>IntersectionObserverService});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),of=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),defer=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/defer.js"),animationFrame=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/scheduler/animationFrame.js"),Subject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),debounceTime=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js"),distinctUntilChanged=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js"),observeOn=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/observeOn.js"),finalize=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/finalize.js");const defaultIntersectionObserverOptions={};let IntersectionObserverService=class IntersectionObserverService{constructor(){this.intersectionsMap=new Map,this.intersectionObserverMap=new Map}isVisible(element,options=defaultIntersectionObserverOptions){if(!("IntersectionObserver"in window))return(0,of.of)(!0);const{intersectionObserver,intersections$}=this.getIntersectionObserver(options);return(0,defer.P)((()=>(intersectionObserver.observe(element),intersections$))).pipe((0,map.U)((entries=>entries.sort(((entryA,entryB)=>entryA.time>entryB.time?-1:1)).find((({target})=>target==element)))),(0,filter.h)((entry=>!!entry)),(0,map.U)((entry=>entry.isIntersecting)),(0,debounceTime.b)(0),(0,distinctUntilChanged.x)(),(0,observeOn.Q)(animationFrame.Z),(0,finalize.x)((()=>intersectionObserver.unobserve(element))))}getIntersectionObserver(options){const newIntersections$=this.intersectionsMap.get(options),newIntersectionObserver=this.intersectionObserverMap.get(options);if(newIntersections$&&newIntersectionObserver)return{intersections$:newIntersections$,intersectionObserver:newIntersectionObserver};const intersections$=new Subject.x,intersectionObserver=new IntersectionObserver((entries=>intersections$.next(entries)),options);return this.intersectionsMap.set(options,intersections$),this.intersectionObserverMap.set(options,intersectionObserver),{intersections$,intersectionObserver}}};IntersectionObserverService=(0,tslib_es6.gn)([(0,core.Injectable)({providedIn:"root"})],IntersectionObserverService);let ImageLoaderRegistry=class ImageLoaderRegistry{constructor(){this.loaderMap=new Map,this.defaultLoader=null}registerLoaders(loaders){loaders.forEach((loader=>{if(null==this.defaultLoader&&(this.defaultLoader=loader),this.loaderMap.has(loader.name))throw new Error(`Duplicated image loader with name "${loader.name}". Fix it by declaring image loaders only in one module.`);this.loaderMap.set(loader.name,loader)}))}getLoader(loaderName){if(null==loaderName){if(null==this.defaultLoader)throw new Error("There are no image loaders configured, provide at least one in the configuration.");return this.defaultLoader}const loader=this.loaderMap.get(loaderName);if(null==loader)throw new Error(`There is no image loader with name "${loaderName}".`);return loader}};ImageLoaderRegistry=(0,tslib_es6.gn)([(0,core.Injectable)({providedIn:"root"})],ImageLoaderRegistry)},"./libs/image/src/lib/tokens/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{rJ:()=>IMAGE_INTERSECTION_OBSERVER_OPTIONS,zb:()=>IMAGE_OPTIMIZER_CONFIG,J0:()=>LAZY_LOAD_SUPPORT});var core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs");const dataSavingImageIntersectionObserverOptions={root:document.body,rootMargin:"1250px"},normalImageIntersectionObserverOptions={root:document.body,rootMargin:"2500px"},IMAGE_INTERSECTION_OBSERVER_OPTIONS=new core.InjectionToken("@ng-easy/image:image-intersection-observer-options",{providedIn:"root",factory:()=>{if(!("connection"in window.navigator))return normalImageIntersectionObserverOptions;const connection=window.navigator.connection;if(connection.saveData)return dataSavingImageIntersectionObserverOptions;switch(connection.effectiveType){case"slow-2g":case"2g":case"3g":return dataSavingImageIntersectionObserverOptions;case"4g":return normalImageIntersectionObserverOptions}}}),IMAGE_OPTIMIZER_CONFIG=new core.InjectionToken("@ng-easy/image:image-optimizer-config"),LAZY_LOAD_SUPPORT=new core.InjectionToken("@ng-easy/image:lazy-load-support",{providedIn:"root",factory:()=>"loading"in HTMLImageElement.prototype})},"./libs/image/src/lib/image-list.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Example:()=>Example,default:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/ts3.9/client/index.js"),_image_module__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/image/src/lib/image.module.ts"),_loaders__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/image/src/lib/loaders/index.ts");let ImageListComponent=class ImageListComponent{constructor(){this.bearBase64="data:image/jpeg;base64,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"}};ImageListComponent=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.Component)({template:'\n    <h2><code>layout="intrinsic"</code></h2>\n    <image\n      layout="intrinsic"\n      src="unsplash/bear.jpg"\n      alt="Bear"\n      [width]="4752"\n      [height]="3168"\n      placeholder="blur"\n      [blurDataURL]="bearBase64"\n    ></image>\n\n    <h2><code>layout="fixed"</code></h2>\n    <image layout="fixed" loader="akamai" src="10.jpg" alt="Car" [width]="1366" [height]="768" placeholder="blur"></image>\n\n    <h2><code>layout="responsive"</code></h2>\n    <image layout="intrinsic" src="examples/kingfisher.jpg" alt="Kingfisher" [width]="4136" [height]="2757" placeholder="blur"></image>\n\n    <h2><code>layout="fill"</code></h2>\n    <div style="width: 100%; height: 250px; position: relative">\n      <image layout="fill" loader="cloudinary" src="balloons.jpg" alt="Balloons" placeholder="blur"></image>\n    </div>\n  ',changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_4__.ChangeDetectionStrategy.OnPush})],ImageListComponent);let ImageListModule=class ImageListModule{};ImageListModule=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.NgModule)({imports:[_image_module__WEBPACK_IMPORTED_MODULE_1__.$],declarations:[ImageListComponent],exports:[ImageListComponent]})],ImageListModule);const __WEBPACK_DEFAULT_EXPORT__={title:"Image",component:ImageListComponent,decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({imports:[_image_module__WEBPACK_IMPORTED_MODULE_1__.$.forRoot({loaders:[_loaders__WEBPACK_IMPORTED_MODULE_2__.pL,(0,_loaders__WEBPACK_IMPORTED_MODULE_2__.tI)("https://res.cloudinary.com/idemo/image/upload"),(0,_loaders__WEBPACK_IMPORTED_MODULE_2__.sV)("https://www.akamai.com/content/dam/site/im-demo/media-viewer/")]}),ImageListModule]})],parameters:{controls:{include:[]}}},Example=(args=>({component:ImageListComponent,props:args})).bind({});Example.args={}},"./libs/image/src/lib/image.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Fill:()=>Fill,Fixed:()=>Fixed,Intrinsic:()=>Intrinsic,Responsive:()=>Responsive,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/ts3.9/client/index.js"),_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/image/src/lib/component/index.ts"),_image_module__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/image/src/lib/image.module.ts"),_loaders__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/image/src/lib/loaders/index.ts"),_loaders_akamai_loader__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/image/src/lib/loaders/akamai-loader.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Image/ImageComponent",component:_component__WEBPACK_IMPORTED_MODULE_1__.c,decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({imports:[_image_module__WEBPACK_IMPORTED_MODULE_2__.$.forRoot({loaders:[_loaders__WEBPACK_IMPORTED_MODULE_3__.pL,(0,_loaders__WEBPACK_IMPORTED_MODULE_3__.tI)("https://res.cloudinary.com/idemo/image/upload"),(0,_loaders_akamai_loader__WEBPACK_IMPORTED_MODULE_4__.s)("https://www.akamai.com/content/dam/site/im-demo/media-viewer/")]})]})],parameters:{controls:{include:["src","loader","alt","width","height","layout","sizes","priority","placeholder","blurDataURL","unoptimized","objectFit","objectPosition","loadingComplete"]}},args:{src:"unsplash/bear.jpg",alt:"Bear",width:4752,height:3168,placeholder:"blur"},argTypes:{src:{},width:{},height:{},layout:{control:{type:"select"},table:{defaultValue:{summary:"intrinsic"}}},sizes:{},placeholder:{control:{type:"select"},table:{defaultValue:{summary:"empty"}}},blurDataURL:{},unoptimized:{table:{defaultValue:{summary:!1}}},priority:{table:{defaultValue:{summary:!1}}},objectFit:{control:{type:"select"},table:{defaultValue:{summary:"cover"}}},objectPosition:{table:{defaultValue:{summary:"50% 50%"}}}}},Template=args=>({component:_component__WEBPACK_IMPORTED_MODULE_1__.c,props:args}),Intrinsic=Template.bind({});Intrinsic.args={};const Fixed=Template.bind({});Fixed.args={layout:"fixed",loader:"akamai",src:"10.jpg",alt:"Car",width:1366,height:768};const Responsive=Template.bind({});Responsive.args={layout:"responsive",src:"examples/kingfisher.jpg",alt:"Kingfisher",width:4136,height:2757};const Fill=Template.bind({});Fill.args={layout:"fill",loader:"cloudinary",src:"balloons.jpg",alt:"Balloons",width:void 0,height:void 0}},"./libs/image/.storybook/preview.js-generated-config-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{__namedExportsOrder:()=>__namedExportsOrder,parameters:()=>parameters});var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),angular=__webpack_require__("./node_modules/@storybook/addon-docs/angular/index.js");const documentation_namespaceObject=JSON.parse('{"pipes":[],"interfaces":[{"name":"ImageModuleConfig","id":"interface-ImageModuleConfig-440ef9d1f856f682008f7c37ee9af741f5c87977c85a83cd8c253dc32873d573f9a10b208e396f0f61d46a28994958718f7f452b105379a4639ed1cdb4bb106c","file":"src/lib/image.module.ts","deprecated":false,"deprecationMessage":"","type":"interface","sourceCode":"import { CommonModule } from \'@angular/common\';\\nimport { Inject, ModuleWithProviders, NgModule, Provider, Type } from \'@angular/core\';\\n\\nimport { defaultImageOptimizerConfig, ImageOptimizerConfig } from \'@ng-easy/image-config\';\\n\\nimport { ImageComponent } from \'./component\';\\nimport { ImageLoader } from \'./loaders\';\\nimport { ImageLoaderRegistry } from \'./services\';\\nimport { IMAGE_OPTIMIZER_CONFIG } from \'./tokens\';\\n\\nexport interface ImageModuleConfig {\\n  imageOptimizerConfig?: ImageOptimizerConfig;\\n  loaders: (Type<ImageLoader> | (() => ImageLoader))[];\\n}\\n\\n@NgModule({\\n  declarations: [ImageComponent],\\n  imports: [CommonModule],\\n  exports: [ImageComponent],\\n})\\nexport class ImageModule {\\n  static forRoot({ imageOptimizerConfig, loaders }: ImageModuleConfig): ModuleWithProviders<ImageModule> {\\n    const classLoaders: Type<ImageLoader>[] = loaders.filter((loader): loader is Type<ImageLoader> => loader.prototype != null);\\n    const factoryLoaders: (() => ImageLoader)[] = loaders.filter((loader): loader is () => ImageLoader => loader.prototype == null);\\n\\n    return {\\n      ngModule: ImageModule,\\n      providers: [\\n        ...classLoaders.map((loader): Provider => ({ provide: ImageLoader, useClass: loader, multi: true })),\\n        ...factoryLoaders.map((loader): Provider => ({ provide: ImageLoader, useFactory: loader, multi: true })),\\n        { provide: IMAGE_OPTIMIZER_CONFIG, useValue: imageOptimizerConfig ?? defaultImageOptimizerConfig },\\n        { provide: Window, useValue: window },\\n      ],\\n    };\\n  }\\n\\n  constructor(@Inject(ImageLoader) loaders: ImageLoader[], loaderRegistry: ImageLoaderRegistry) {\\n    loaderRegistry.registerLoaders(loaders);\\n  }\\n}\\n","properties":[{"name":"imageOptimizerConfig","deprecated":false,"deprecationMessage":"","type":"ImageOptimizerConfig","optional":true,"description":"","line":12},{"name":"loaders","deprecated":false,"deprecationMessage":"","type":"(Type<ImageLoader> | )[]","optional":false,"description":"","line":13}],"indexSignatures":[],"kind":165,"methods":[]},{"name":"ImageSources","id":"interface-ImageSources-ae71e23551e70baeefc7e233b3a8591e304149a1af7efd71ebdaf42fd6da7200dab812f425ec12ba2877dd9f717358cd369cf7cc9a50efa6928e9ae3c53d9f2a","file":"src/lib/models/image-sources.ts","deprecated":false,"deprecationMessage":"","type":"interface","sourceCode":"import { ImageMimeType } from \'@ng-easy/image-config\';\\n\\nexport interface ImageSources {\\n  srcset: string;\\n  sizes: string;\\n  src: string;\\n  mimeType: ImageMimeType;\\n}\\n","properties":[{"name":"mimeType","deprecated":false,"deprecationMessage":"","type":"ImageMimeType","optional":false,"description":"","line":7},{"name":"sizes","deprecated":false,"deprecationMessage":"","type":"string","optional":false,"description":"","line":5},{"name":"src","deprecated":false,"deprecationMessage":"","type":"string","optional":false,"description":"","line":6},{"name":"srcset","deprecated":false,"deprecationMessage":"","type":"string","optional":false,"description":"","line":4}],"indexSignatures":[],"kind":165,"methods":[]},{"name":"ImageSourcesOptions","id":"interface-ImageSourcesOptions-878df9f3076c0fb28362d0d9b026afec46f0a6f237f66d4de0688b78145b865ea830a298095b6e4d7631cec46ee8f69b62ff4d6cbba4b8a7044f41b781f2192f","file":"src/lib/models/image-sources-options.ts","deprecated":false,"deprecationMessage":"","type":"interface","sourceCode":"import { ImageLayout } from \'./image-layout\';\\n\\nexport interface ImageSourcesOptions {\\n  src: string;\\n  width: number | undefined;\\n  layout: ImageLayout;\\n  sizes: string;\\n  unoptimized: boolean;\\n}\\n","properties":[{"name":"layout","deprecated":false,"deprecationMessage":"","type":"ImageLayout","optional":false,"description":"","line":6},{"name":"sizes","deprecated":false,"deprecationMessage":"","type":"string","optional":false,"description":"","line":7},{"name":"src","deprecated":false,"deprecationMessage":"","type":"string","optional":false,"description":"","line":4},{"name":"unoptimized","deprecated":false,"deprecationMessage":"","type":"boolean","optional":false,"description":"","line":8},{"name":"width","deprecated":false,"deprecationMessage":"","type":"number | undefined","optional":false,"description":"","line":5}],"indexSignatures":[],"kind":165,"methods":[]},{"name":"ImageUrlOptions","id":"interface-ImageUrlOptions-6f8cd13345db0e578b85e7d9011af0047a59d368ab14387db7bec9c6a6bea7fa5da290660d83353dec2a8bba980db3a1e9e4a7b1abd410428b9e7d8df96ce6ac","file":"src/lib/models/image-url-options.ts","deprecated":false,"deprecationMessage":"","type":"interface","sourceCode":"import { ImageFormat } from \'@ng-easy/image-config\';\\n\\nexport interface ImageUrlOptions {\\n  src: string;\\n  width: number;\\n  quality: number;\\n  format: ImageFormat;\\n}\\n","properties":[{"name":"format","deprecated":false,"deprecationMessage":"","type":"ImageFormat","optional":false,"description":"","line":7},{"name":"quality","deprecated":false,"deprecationMessage":"","type":"number","optional":false,"description":"","line":6},{"name":"src","deprecated":false,"deprecationMessage":"","type":"string","optional":false,"description":"","line":4},{"name":"width","deprecated":false,"deprecationMessage":"","type":"number","optional":false,"description":"","line":5}],"indexSignatures":[],"kind":165,"methods":[]}],"injectables":[{"name":"ImageLoaderRegistry","id":"injectable-ImageLoaderRegistry-bc0d485cad2fcf03e26818d0f7c9a7e0866039a21b50640a827f7d854bdd281ec91c09a9950eba626932e0e8c11bdc66cecec1fa742c0f80d7e158ceaf7cbdb7","file":"src/lib/services/image-loader-registry.service.ts","properties":[],"methods":[{"name":"getLoader","args":[{"name":"loaderName","type":"string | null","deprecated":false,"deprecationMessage":"","optional":true}],"optional":false,"returnType":"ImageLoader","typeParameters":[],"line":25,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"name":"loaderName","type":"string | null","deprecated":false,"deprecationMessage":"","optional":true,"tagName":{"text":"param"}}]},{"name":"registerLoaders","args":[{"name":"loaders","type":"ImageLoader[]","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"void","typeParameters":[],"line":10,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"name":"loaders","type":"ImageLoader[]","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]}],"deprecated":false,"deprecationMessage":"","description":"","rawdescription":"\\n","sourceCode":"import { Injectable } from \'@angular/core\';\\n\\nimport { ImageLoader } from \'../loaders\';\\n\\n@Injectable({ providedIn: \'root\' })\\nexport class ImageLoaderRegistry {\\n  private readonly loaderMap = new Map<string, ImageLoader>();\\n  private defaultLoader: ImageLoader | null = null;\\n\\n  registerLoaders(loaders: ImageLoader[]) {\\n    loaders.forEach((loader) => {\\n      // First loader is treated as the default one\\n      if (this.defaultLoader == null) {\\n        this.defaultLoader = loader;\\n      }\\n\\n      if (this.loaderMap.has(loader.name)) {\\n        throw new Error(`Duplicated image loader with name \\"${loader.name}\\". Fix it by declaring image loaders only in one module.`);\\n      }\\n\\n      this.loaderMap.set(loader.name, loader);\\n    });\\n  }\\n\\n  getLoader(loaderName?: string | null): ImageLoader {\\n    if (loaderName == null) {\\n      if (this.defaultLoader == null) {\\n        throw new Error(`There are no image loaders configured, provide at least one in the configuration.`);\\n      }\\n      return this.defaultLoader;\\n    }\\n\\n    const loader: ImageLoader | undefined = this.loaderMap.get(loaderName);\\n    if (loader == null) {\\n      throw new Error(`There is no image loader with name \\"${loaderName}\\".`);\\n    }\\n    return loader;\\n  }\\n}\\n","type":"injectable"},{"name":"ImigixImageLoader","id":"injectable-ImigixImageLoader-44c0a305d261e5213279aa77bb63accde314d0e5ca58374eb1fe036a03fabdc5448659db8428db4272d1c036a099199c75fa9ffdc10468cff02c411c836b62db","file":"src/lib/loaders/imigix-loader.ts","properties":[{"name":"name","defaultValue":"\'imigix\'","deprecated":false,"deprecationMessage":"","type":"string","optional":false,"description":"","line":9,"modifierKind":[144],"inheritance":{"file":"ImageLoader"}},{"name":"supportsFormat","defaultValue":"this.getImageUrl({\\n    src: \'test\',\\n    width: randomWidth,\\n    quality: 75,\\n    format: ImageFormat.Webp,\\n  }).includes(ImageFormat.Webp)","deprecated":false,"deprecationMessage":"","type":"boolean","optional":false,"description":"","line":33,"modifierKind":[144],"inheritance":{"file":"ImageLoader"}},{"name":"supportsWidth","defaultValue":"this.getImageUrl({\\n    src: \'test\',\\n    width: randomWidth,\\n    quality: 75,\\n    format: ImageFormat.Jpeg,\\n  }).includes(randomWidth.toString())","deprecated":false,"deprecationMessage":"","type":"boolean","optional":false,"description":"","line":26,"modifierKind":[144],"inheritance":{"file":"ImageLoader"}}],"methods":[{"name":"getImageUrl","args":[{"type":"ImageUrlOptions","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"string","typeParameters":[],"line":12,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"type":"ImageUrlOptions","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}],"inheritance":{"file":"ImageLoader"}},{"name":"getImageSources","args":[{"type":"ImageSourcesOptions","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"ImageSources[]","typeParameters":[],"line":55,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"type":"ImageSourcesOptions","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}],"inheritance":{"file":"ImageLoader"}},{"name":"getPlaceholderSrc","args":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"string","typeParameters":[],"line":84,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}],"inheritance":{"file":"ImageLoader"}},{"name":"normalizeSrc","args":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"string","typeParameters":[],"line":145,"deprecated":false,"deprecationMessage":"","modifierKind":[122],"jsdoctags":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}],"inheritance":{"file":"ImageLoader"}}],"deprecated":false,"deprecationMessage":"","description":"","rawdescription":"\\n","sourceCode":"import { Injectable } from \'@angular/core\';\\n\\nimport { ImageUrlOptions } from \'../models\';\\nimport { ImageLoader } from \'./image-loader\';\\n\\n@Injectable()\\nexport class ImigixImageLoader extends ImageLoader {\\n  private static root = \'https://assets.imgix.net\';\\n  readonly name = \'imigix\';\\n\\n  // Example: https://assets.imgix.net/unsplash/bear.jpg?w=1080&q=75&fm=webp\\n  getImageUrl({ src, width, quality, format }: ImageUrlOptions) {\\n    return `${ImigixImageLoader.root}/${this.normalizeSrc(src)}?w=${width}&q=${quality}&fm=${format}`;\\n  }\\n}\\n","extends":"ImageLoader","type":"injectable"},{"name":"IntersectionObserverService","id":"injectable-IntersectionObserverService-bbf6e6ea0b6f74823d3ce11461e18f80b86e464aea8bc5d0036650235aad7d8045a92be8322068157bba0843f2def9b9d8a602e5d054ee0e823d65b04bff32a9","file":"src/lib/services/intersection-observer.service.ts","properties":[],"methods":[{"name":"isVisible","args":[{"name":"element","type":"Element","deprecated":false,"deprecationMessage":""},{"name":"options","type":"IntersectionObserverInit","deprecated":false,"deprecationMessage":"","defaultValue":"defaultIntersectionObserverOptions"}],"optional":false,"returnType":"Observable<boolean>","typeParameters":[],"line":13,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"name":"element","type":"Element","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"options","type":"IntersectionObserverInit","deprecated":false,"deprecationMessage":"","defaultValue":"defaultIntersectionObserverOptions","tagName":{"text":"param"}}]}],"deprecated":false,"deprecationMessage":"","description":"","rawdescription":"\\n","sourceCode":"import { Injectable } from \'@angular/core\';\\nimport { animationFrameScheduler, defer, Observable, of, Subject } from \'rxjs\';\\nimport { debounceTime, distinctUntilChanged, filter, finalize, map, observeOn } from \'rxjs/operators\';\\n\\nexport const defaultIntersectionObserverOptions: IntersectionObserverInit = {};\\n\\n// Reference: https://web.dev/browser-level-image-lazy-loading\\n@Injectable({ providedIn: \'root\' })\\nexport class IntersectionObserverService {\\n  private readonly intersectionsMap = new Map<IntersectionObserverInit, Subject<IntersectionObserverEntry[]>>();\\n  private readonly intersectionObserverMap = new Map<IntersectionObserverInit, IntersectionObserver>();\\n\\n  isVisible(element: Element, options: IntersectionObserverInit = defaultIntersectionObserverOptions): Observable<boolean> {\\n    if (!(\'IntersectionObserver\' in window)) {\\n      return of(true);\\n    }\\n\\n    const { intersectionObserver, intersections$ } = this.getIntersectionObserver(options);\\n\\n    return defer(() => {\\n      intersectionObserver.observe(element);\\n      return intersections$;\\n    }).pipe(\\n      map((entries: IntersectionObserverEntry[]) => {\\n        // Entries collection can emit the same element multiple times in the same batch\\n        return entries\\n          .sort((entryA, entryB) => (entryA.time > entryB.time ? -1 : 1)) // Order by descending time to have first the last entry\\n          .find(({ target }) => target == element);\\n      }),\\n      // IntersectionObserver only emits entries that have changed, don\'t need to react if target element is not involved\\n      filter((entry): entry is IntersectionObserverEntry => !!entry),\\n      map((entry) => entry.isIntersecting),\\n      debounceTime(0), // To allow elements render one by one\\n      distinctUntilChanged(),\\n      observeOn(animationFrameScheduler), // Make sure rendering happens when there is an animation frame ready\\n      finalize(() => intersectionObserver.unobserve(element))\\n    );\\n  }\\n\\n  private getIntersectionObserver(options: IntersectionObserverInit) {\\n    const newIntersections$ = this.intersectionsMap.get(options);\\n    const newIntersectionObserver = this.intersectionObserverMap.get(options);\\n    if (newIntersections$ && newIntersectionObserver) {\\n      return { intersections$: newIntersections$, intersectionObserver: newIntersectionObserver };\\n    }\\n\\n    const intersections$ = new Subject<IntersectionObserverEntry[]>();\\n    const intersectionObserver = new IntersectionObserver((entries) => intersections$.next(entries), options);\\n\\n    this.intersectionsMap.set(options, intersections$);\\n    this.intersectionObserverMap.set(options, intersectionObserver);\\n\\n    return { intersections$, intersectionObserver };\\n  }\\n}\\n","type":"injectable"},{"name":"RuntimeImageLoader","id":"injectable-RuntimeImageLoader-06d19a0d430a23f8802c1567d05804fa3951bd9d33e7bf94878250b2a5be91b8fa7ee60f4001c0fb30b665157058de47da28b30b33fc2b84f60be2999828301a","file":"src/lib/loaders/runtime-loader.ts","properties":[{"name":"name","defaultValue":"\'runtime\'","deprecated":false,"deprecationMessage":"","type":"string","optional":false,"description":"","line":8,"modifierKind":[144],"inheritance":{"file":"ImageLoader"}},{"name":"supportsFormat","defaultValue":"this.getImageUrl({\\n    src: \'test\',\\n    width: randomWidth,\\n    quality: 75,\\n    format: ImageFormat.Webp,\\n  }).includes(ImageFormat.Webp)","deprecated":false,"deprecationMessage":"","type":"boolean","optional":false,"description":"","line":33,"modifierKind":[144],"inheritance":{"file":"ImageLoader"}},{"name":"supportsWidth","defaultValue":"this.getImageUrl({\\n    src: \'test\',\\n    width: randomWidth,\\n    quality: 75,\\n    format: ImageFormat.Jpeg,\\n  }).includes(randomWidth.toString())","deprecated":false,"deprecationMessage":"","type":"boolean","optional":false,"description":"","line":26,"modifierKind":[144],"inheritance":{"file":"ImageLoader"}}],"methods":[{"name":"getImageUrl","args":[{"type":"ImageUrlOptions","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"string","typeParameters":[],"line":10,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"type":"ImageUrlOptions","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}],"inheritance":{"file":"ImageLoader"}},{"name":"getImageSources","args":[{"type":"ImageSourcesOptions","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"ImageSources[]","typeParameters":[],"line":55,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"type":"ImageSourcesOptions","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}],"inheritance":{"file":"ImageLoader"}},{"name":"getPlaceholderSrc","args":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"string","typeParameters":[],"line":84,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}],"inheritance":{"file":"ImageLoader"}},{"name":"normalizeSrc","args":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"string","typeParameters":[],"line":145,"deprecated":false,"deprecationMessage":"","modifierKind":[122],"jsdoctags":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}],"inheritance":{"file":"ImageLoader"}}],"deprecated":false,"deprecationMessage":"","description":"","rawdescription":"\\n","sourceCode":"import { Injectable } from \'@angular/core\';\\n\\nimport { ImageUrlOptions } from \'../models\';\\nimport { ImageLoader } from \'./image-loader\';\\n\\n@Injectable()\\nexport class RuntimeImageLoader extends ImageLoader {\\n  readonly name = \'runtime\';\\n\\n  getImageUrl({ src, width, quality, format }: ImageUrlOptions) {\\n    return `${src}?w=${width}&q=${quality}&fm=${format}`;\\n  }\\n}\\n","extends":"ImageLoader","type":"injectable"}],"guards":[],"interceptors":[],"classes":[{"name":"AkamaiImageLoader","id":"class-AkamaiImageLoader-2d35dc7f86c977bf11aa82b9b771e2a658ffc19400b63e19ab397158adaa181553d6b4416787c50ca4ebf15c59f6db4324881b95359beceddab0fc7ccafbf10f","file":"src/lib/loaders/akamai-loader.ts","deprecated":false,"deprecationMessage":"","type":"class","sourceCode":"import { inject } from \'@angular/core\';\\n\\nimport { ImageOptimizerConfig } from \'@ng-easy/image-config\';\\n\\nimport { ImageUrlOptions } from \'../models\';\\nimport { IMAGE_OPTIMIZER_CONFIG } from \'../tokens\';\\nimport { ImageLoader } from \'./image-loader\';\\n\\nclass AkamaiImageLoader extends ImageLoader {\\n  readonly name = \'akamai\';\\n\\n  constructor(private readonly root: string, imageOptimizerConfig: ImageOptimizerConfig) {\\n    super(imageOptimizerConfig);\\n  }\\n\\n  // Example: https://www.akamai.com/fetch-dv-data/www/im-demo/360/01.jpg?imwidth=5000\\n  getImageUrl({ src, width }: ImageUrlOptions) {\\n    return `${this.root}/${this.normalizeSrc(src)}?imwidth=${width}`;\\n  }\\n}\\n\\nexport const akamaiImageLoader = (root: string) => () => {\\n  return new AkamaiImageLoader(root, inject(IMAGE_OPTIMIZER_CONFIG));\\n};\\n","constructorObj":{"name":"constructor","description":"","deprecated":false,"deprecationMessage":"","args":[{"name":"root","type":"string","deprecated":false,"deprecationMessage":""},{"name":"imageOptimizerConfig","type":"ImageOptimizerConfig","deprecated":false,"deprecationMessage":""}],"line":10,"jsdoctags":[{"name":"root","type":"string","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"imageOptimizerConfig","type":"ImageOptimizerConfig","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},"properties":[{"name":"name","defaultValue":"\'akamai\'","deprecated":false,"deprecationMessage":"","type":"string","optional":false,"description":"","line":10,"modifierKind":[144],"inheritance":{"file":"ImageLoader"}},{"name":"supportsFormat","defaultValue":"this.getImageUrl({\\n    src: \'test\',\\n    width: randomWidth,\\n    quality: 75,\\n    format: ImageFormat.Webp,\\n  }).includes(ImageFormat.Webp)","deprecated":false,"deprecationMessage":"","type":"boolean","optional":false,"description":"","line":33,"modifierKind":[144],"inheritance":{"file":"ImageLoader"}},{"name":"supportsWidth","defaultValue":"this.getImageUrl({\\n    src: \'test\',\\n    width: randomWidth,\\n    quality: 75,\\n    format: ImageFormat.Jpeg,\\n  }).includes(randomWidth.toString())","deprecated":false,"deprecationMessage":"","type":"boolean","optional":false,"description":"","line":26,"modifierKind":[144],"inheritance":{"file":"ImageLoader"}}],"methods":[{"name":"getImageUrl","args":[{"type":"ImageUrlOptions","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"string","typeParameters":[],"line":17,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"type":"ImageUrlOptions","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}],"inheritance":{"file":"ImageLoader"}},{"name":"getImageSources","args":[{"type":"ImageSourcesOptions","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"ImageSources[]","typeParameters":[],"line":55,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"type":"ImageSourcesOptions","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}],"inheritance":{"file":"ImageLoader"}},{"name":"getPlaceholderSrc","args":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"string","typeParameters":[],"line":84,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}],"inheritance":{"file":"ImageLoader"}},{"name":"normalizeSrc","args":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"string","typeParameters":[],"line":145,"deprecated":false,"deprecationMessage":"","modifierKind":[122],"jsdoctags":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}],"inheritance":{"file":"ImageLoader"}}],"indexSignatures":[],"extends":"ImageLoader","inputsClass":[],"outputsClass":[],"hostBindings":[],"hostListeners":[]},{"name":"CloudinaryImageLoader","id":"class-CloudinaryImageLoader-84639209cc363199b677942575e5eee290fd6cecd3ad93b404699b1d25254fa2fa6f38552931a678924e3e804aee6cdd1c20b5d8c759a368e0a23844d54329f9","file":"src/lib/loaders/cloudinary-loader.ts","deprecated":false,"deprecationMessage":"","type":"class","sourceCode":"import { inject } from \'@angular/core\';\\n\\nimport { ImageOptimizerConfig } from \'@ng-easy/image-config\';\\n\\nimport { ImageUrlOptions } from \'../models\';\\nimport { IMAGE_OPTIMIZER_CONFIG } from \'../tokens\';\\nimport { ImageLoader } from \'./image-loader\';\\n\\nclass CloudinaryImageLoader extends ImageLoader {\\n  readonly name = \'cloudinary\';\\n\\n  constructor(private readonly root: string, imageOptimizerConfig: ImageOptimizerConfig) {\\n    super(imageOptimizerConfig);\\n  }\\n\\n  // Example: https://res.cloudinary.com/idemo/image/upload/f_webp,q_75,w_355/balloons.jpg\\n  getImageUrl({ src, width, quality, format }: ImageUrlOptions) {\\n    const supportedFormat: string = format.replace(/jpeg/, \'jpg\');\\n    return `${this.root}/f_${supportedFormat},w_${width},q_${quality}/${this.normalizeSrc(src)}`;\\n  }\\n}\\n\\nexport const cloudinaryImageLoader = (root: string) => () => {\\n  return new CloudinaryImageLoader(root, inject(IMAGE_OPTIMIZER_CONFIG));\\n};\\n","constructorObj":{"name":"constructor","description":"","deprecated":false,"deprecationMessage":"","args":[{"name":"root","type":"string","deprecated":false,"deprecationMessage":""},{"name":"imageOptimizerConfig","type":"ImageOptimizerConfig","deprecated":false,"deprecationMessage":""}],"line":10,"jsdoctags":[{"name":"root","type":"string","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"imageOptimizerConfig","type":"ImageOptimizerConfig","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},"properties":[{"name":"name","defaultValue":"\'cloudinary\'","deprecated":false,"deprecationMessage":"","type":"string","optional":false,"description":"","line":10,"modifierKind":[144],"inheritance":{"file":"ImageLoader"}},{"name":"supportsFormat","defaultValue":"this.getImageUrl({\\n    src: \'test\',\\n    width: randomWidth,\\n    quality: 75,\\n    format: ImageFormat.Webp,\\n  }).includes(ImageFormat.Webp)","deprecated":false,"deprecationMessage":"","type":"boolean","optional":false,"description":"","line":33,"modifierKind":[144],"inheritance":{"file":"ImageLoader"}},{"name":"supportsWidth","defaultValue":"this.getImageUrl({\\n    src: \'test\',\\n    width: randomWidth,\\n    quality: 75,\\n    format: ImageFormat.Jpeg,\\n  }).includes(randomWidth.toString())","deprecated":false,"deprecationMessage":"","type":"boolean","optional":false,"description":"","line":26,"modifierKind":[144],"inheritance":{"file":"ImageLoader"}}],"methods":[{"name":"getImageUrl","args":[{"type":"ImageUrlOptions","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"string","typeParameters":[],"line":17,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"type":"ImageUrlOptions","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}],"inheritance":{"file":"ImageLoader"}},{"name":"getImageSources","args":[{"type":"ImageSourcesOptions","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"ImageSources[]","typeParameters":[],"line":55,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"type":"ImageSourcesOptions","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}],"inheritance":{"file":"ImageLoader"}},{"name":"getPlaceholderSrc","args":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"string","typeParameters":[],"line":84,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}],"inheritance":{"file":"ImageLoader"}},{"name":"normalizeSrc","args":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"string","typeParameters":[],"line":145,"deprecated":false,"deprecationMessage":"","modifierKind":[122],"jsdoctags":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}],"inheritance":{"file":"ImageLoader"}}],"indexSignatures":[],"extends":"ImageLoader","inputsClass":[],"outputsClass":[],"hostBindings":[],"hostListeners":[]},{"name":"ImageLoader","id":"class-ImageLoader-2ba4638b12dbff07b8efdab59793d86268d3f12c7a93d4ca47acb12f5be501d55d1236e2f66f0f08034e76b9f7bcdead9cca4fb21f4eda5db7fdd24bc59e45a9","file":"src/lib/loaders/image-loader.ts","deprecated":false,"deprecationMessage":"","type":"class","sourceCode":"import { Inject, isDevMode } from \'@angular/core\';\\n\\nimport { ImageFormat, dedupAndSortImageSizes, getImageFormat, ImageOptimizerConfig, getImageMimeType } from \'@ng-easy/image-config\';\\n\\nimport { getQuality } from \'../functions\';\\nimport { ImageUrlOptions, ImageSourcesOptions, ImageSources, ImageLayout } from \'../models\';\\nimport { IMAGE_OPTIMIZER_CONFIG } from \'../tokens\';\\n\\nconst viewportWidthRe = /(^|\\\\s)(1?\\\\d?\\\\d)vw/g;\\nconst preferredOptimizedFormats: readonly ImageFormat[] = [ImageFormat.Webp, ImageFormat.Avif, ImageFormat.Heif, ImageFormat.Jpeg] as const;\\nconst placeholderQuality = 15;\\nconst placeholderWidth = 15;\\nconst randomWidth: number = Math.floor(Math.random() * 1000) + 100;\\n\\n/**\\n * Provider that resolves image URLs.\\n */\\nexport abstract class ImageLoader {\\n  private readonly allSizes: readonly number[] = dedupAndSortImageSizes([\\n    ...this.imageOptimizerConfig.deviceSizes,\\n    ...this.imageOptimizerConfig.imageSizes,\\n  ]);\\n  private readonly deviceSizes: readonly number[] = dedupAndSortImageSizes(this.imageOptimizerConfig.deviceSizes);\\n  private readonly preferredOptimizedFormat: ImageFormat;\\n\\n  readonly supportsWidth: boolean = this.getImageUrl({\\n    src: \'test\',\\n    width: randomWidth,\\n    quality: 75,\\n    format: ImageFormat.Jpeg,\\n  }).includes(randomWidth.toString());\\n\\n  readonly supportsFormat: boolean = this.getImageUrl({\\n    src: \'test\',\\n    width: randomWidth,\\n    quality: 75,\\n    format: ImageFormat.Webp,\\n  }).includes(ImageFormat.Webp);\\n\\n  abstract readonly name: string;\\n\\n  constructor(@Inject(IMAGE_OPTIMIZER_CONFIG) protected readonly imageOptimizerConfig: ImageOptimizerConfig) {\\n    const supportedFormats: Set<ImageFormat> = new Set([...imageOptimizerConfig.formats, ImageFormat.Jpeg]);\\n    const preferredOptimizedFormat: ImageFormat | undefined = preferredOptimizedFormats.find((preferredFormat) =>\\n      supportedFormats.has(preferredFormat)\\n    );\\n    if (preferredOptimizedFormat == null) {\\n      throw new Error(`There is not a supported preferred image optimizer format.`);\\n    }\\n    this.preferredOptimizedFormat = preferredOptimizedFormat;\\n  }\\n\\n  abstract getImageUrl(options: ImageUrlOptions): string;\\n\\n  getImageSources({ src, width, layout, sizes, unoptimized }: ImageSourcesOptions): ImageSources[] {\\n    if (unoptimized) {\\n      return [{ src, sizes: \'\', srcset: \'\', mimeType: getImageMimeType(src) }];\\n    }\\n\\n    const { widths, kind } = this.getWidths(width, layout, sizes);\\n    const quality: number = getQuality(this.imageOptimizerConfig.quality);\\n\\n    // Only use widths inferior to original image\\n    const supportedWidths: number[] = widths.filter((sourceWidth) => width == null || sourceWidth <= width);\\n\\n    if (isDevMode() && widths.length > supportedWidths.length) {\\n      console.warn(\\n        `Image with src \\"${src}\\" has width only of ${width}px. Use a image with at least a width of ${\\n          widths[widths.length - 1]\\n        }px to display it nicely on big screens.`\\n      );\\n    }\\n\\n    return this.getImageOptimizedFormats(src, unoptimized).map((format) => ({\\n      sizes: !sizes && kind === \'w\' ? \'100vw\' : sizes,\\n      srcset: supportedWidths\\n        .map((width, index) => `${this.getImageUrl({ src, quality, width, format })} ${kind === \'w\' ? width : index + 1}${kind}`)\\n        .join(\', \'),\\n      src: this.getImageUrl({ src, quality, width: supportedWidths[supportedWidths.length - 1] ?? width, format }),\\n      mimeType: getImageMimeType(format),\\n    }));\\n  }\\n\\n  getPlaceholderSrc(src: string): string {\\n    return this.getImageUrl({\\n      src,\\n      quality: placeholderQuality,\\n      width: placeholderWidth,\\n      format: getImageFormat(src),\\n    });\\n  }\\n\\n  private getImageOptimizedFormats(src: string, unoptimized: boolean): ImageFormat[] {\\n    const format: ImageFormat = getImageFormat(src);\\n\\n    if (!this.supportsFormat) {\\n      return [format];\\n    } else if (format === ImageFormat.Png) {\\n      return [ImageFormat.Png];\\n    } else if (unoptimized) {\\n      return [format];\\n    } else {\\n      return [...new Set([this.preferredOptimizedFormat, ImageFormat.Jpeg])];\\n    }\\n  }\\n\\n  private getWidths(width: number | undefined, layout: ImageLayout, sizes: string): { widths: number[]; kind: \'w\' | \'x\' } {\\n    if (sizes && (layout === \'fill\' || layout === \'responsive\')) {\\n      // Find all the \\"vw\\" percent sizes used in the sizes prop\\n      const percentSizes: number[] = [];\\n      for (let match; (match = viewportWidthRe.exec(sizes)); match) {\\n        percentSizes.push(parseInt(match[2]));\\n      }\\n\\n      if (percentSizes.length) {\\n        const smallestRatio: number = Math.min(...percentSizes) * 0.01;\\n        return {\\n          widths: this.allSizes.filter((size: number) => size >= this.deviceSizes[0] * smallestRatio),\\n          kind: \'w\',\\n        };\\n      }\\n      return { widths: [...this.allSizes], kind: \'w\' };\\n    }\\n\\n    if (width == null || layout === \'fill\' || layout === \'responsive\') {\\n      return { widths: [...this.deviceSizes], kind: \'w\' };\\n    }\\n\\n    const widths: number[] = [\\n      ...new Set(\\n        // > This means that most OLED screens that say they are 3x resolution,\\n        // > are actually 3x in the green color, but only 1.5x in the red and\\n        // > blue colors. Showing a 3x resolution image in the app vs a 2x\\n        // > resolution image will be visually the same, though the 3x image\\n        // > takes significantly more data. Even true 3x resolution screens are\\n        // > wasteful as the human eye cannot see that level of detail without\\n        // > something like a magnifying glass.\\n        // https://blog.twitter.com/engineering/en_us/topics/infrastructure/2019/capping-image-fidelity-on-ultra-high-resolution-devices.html\\n        [width, width * 2].map((w) => this.allSizes.find((p) => p >= w) || this.allSizes[this.allSizes.length - 1])\\n      ),\\n    ];\\n    return { widths, kind: \'x\' };\\n  }\\n\\n  protected normalizeSrc(src: string): string {\\n    src = src.startsWith(\'/\') ? src.slice(1) : src; // Trim initial /\\n    src = src.endsWith(\'/\') ? src.slice(0, -1) : src;\\n    return src;\\n  }\\n}\\n","constructorObj":{"name":"constructor","description":"","deprecated":false,"deprecationMessage":"","args":[{"name":"imageOptimizerConfig","type":"ImageOptimizerConfig","deprecated":false,"deprecationMessage":""}],"line":40,"jsdoctags":[{"name":"imageOptimizerConfig","type":"ImageOptimizerConfig","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},"properties":[{"name":"name","deprecated":false,"deprecationMessage":"","type":"string","optional":false,"description":"","line":40,"modifierKind":[126,144]},{"name":"supportsFormat","defaultValue":"this.getImageUrl({\\n    src: \'test\',\\n    width: randomWidth,\\n    quality: 75,\\n    format: ImageFormat.Webp,\\n  }).includes(ImageFormat.Webp)","deprecated":false,"deprecationMessage":"","type":"boolean","optional":false,"description":"","line":33,"modifierKind":[144]},{"name":"supportsWidth","defaultValue":"this.getImageUrl({\\n    src: \'test\',\\n    width: randomWidth,\\n    quality: 75,\\n    format: ImageFormat.Jpeg,\\n  }).includes(randomWidth.toString())","deprecated":false,"deprecationMessage":"","type":"boolean","optional":false,"description":"","line":26,"modifierKind":[144]}],"description":"<p>Provider that resolves image URLs.</p>\\n","rawdescription":"\\n\\nProvider that resolves image URLs.\\n","methods":[{"name":"getImageSources","args":[{"type":"ImageSourcesOptions","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"ImageSources[]","typeParameters":[],"line":55,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"type":"ImageSourcesOptions","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},{"name":"getImageUrl","args":[{"name":"options","type":"ImageUrlOptions","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"string","typeParameters":[],"line":53,"deprecated":false,"deprecationMessage":"","modifierKind":[126],"jsdoctags":[{"name":"options","type":"ImageUrlOptions","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},{"name":"getPlaceholderSrc","args":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"string","typeParameters":[],"line":84,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},{"name":"normalizeSrc","args":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"string","typeParameters":[],"line":145,"deprecated":false,"deprecationMessage":"","modifierKind":[122],"jsdoctags":[{"name":"src","type":"string","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]}],"indexSignatures":[],"inputsClass":[],"outputsClass":[],"hostBindings":[],"hostListeners":[]}],"directives":[],"components":[{"name":"ImageComponent","id":"component-ImageComponent-9740b13d2f58ae457e24c39021024501fc83e762a9b516b753569ae0013150099995122b031ed6fdab4203a4c8f42a1eceeb3b08a2c9d57d69a55a704ed86ab4","file":"src/lib/component/image.component.ts","changeDetection":"ChangeDetectionStrategy.OnPush","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"selector":"image[src]","styleUrls":["image.component.scss"],"styles":[],"templateUrl":["image.component.html"],"viewProviders":[],"inputsClass":[{"name":"alt","defaultValue":"\'\'","deprecated":false,"deprecationMessage":"","rawdescription":"\\n\\nThe `alt` attribute provides alternative information for an image if a user for some reason cannot view it\\n(because of slow connection, an error in the src attribute, or if the user uses a screen reader).\\n","description":"<p>The <code>alt</code> attribute provides alternative information for an image if a user for some reason cannot view it\\n(because of slow connection, an error in the src attribute, or if the user uses a screen reader).</p>\\n","line":41,"type":"string","decorators":[]},{"name":"blurDataURL","deprecated":false,"deprecationMessage":"","rawdescription":"\\n\\nA Data URL to be used as a placeholder image before the `src` image successfully loads. Only takes effect when combined with `placeholder=\\"blur\\"`.\\nMust be a base64-encoded image. It will be enlarged and blurred, so a very small image (10px or less) is recommended. Including larger images as placeholders may harm your application performance.\\n\\nIf not provided inline and the loader supports optimization a small placeholder will be fetched automatically.\\n","description":"<p>A Data URL to be used as a placeholder image before the <code>src</code> image successfully loads. Only takes effect when combined with <code>placeholder=&quot;blur&quot;</code>.\\nMust be a base64-encoded image. It will be enlarged and blurred, so a very small image (10px or less) is recommended. Including larger images as placeholders may harm your application performance.</p>\\n<p>If not provided inline and the loader supports optimization a small placeholder will be fetched automatically.</p>\\n","line":113,"type":"string","decorators":[]},{"name":"height","deprecated":false,"deprecationMessage":"","rawdescription":"\\n\\nThe height of the image, in pixels. Must be an integer without a unit.\\nRequired, except for those with `layout=\\"fill\\"`.\\n","description":"<p>The height of the image, in pixels. Must be an integer without a unit.\\nRequired, except for those with <code>layout=&quot;fill&quot;</code>.</p>\\n","line":59,"type":"number | undefined","decorators":[]},{"name":"layout","defaultValue":"\'intrinsic\'","deprecated":false,"deprecationMessage":"","rawdescription":"\\n\\nThe layout behavior of the image as the viewport changes size. Defaults to `intrinsic`.\\nTODO: confirm functionality with next.js\\n* When `fixed,` the image dimensions will not change as the viewport changes (no responsiveness) similar to the native img element.\\n* When `intrinsic`, the image will scale the dimensions down for smaller viewports but maintain the original dimensions for larger viewports.\\n* When `responsive`, the image will scale the dimensions down for smaller viewports and scale up for larger viewports.\\n* When `fill`, the image will stretch both width and height to the dimensions of the parent element, provided the parent element is relative. This is usually paired with the objectFit property.\\n","description":"<p>The layout behavior of the image as the viewport changes size. Defaults to <code>intrinsic</code>.\\nTODO: confirm functionality with next.js</p>\\n<ul>\\n<li>When <code>fixed,</code> the image dimensions will not change as the viewport changes (no responsiveness) similar to the native img element.</li>\\n<li>When <code>intrinsic</code>, the image will scale the dimensions down for smaller viewports but maintain the original dimensions for larger viewports.</li>\\n<li>When <code>responsive</code>, the image will scale the dimensions down for smaller viewports and scale up for larger viewports.</li>\\n<li>When <code>fill</code>, the image will stretch both width and height to the dimensions of the parent element, provided the parent element is relative. This is usually paired with the objectFit property.</li>\\n</ul>\\n","line":75,"type":"ImageLayout","decorators":[]},{"name":"loader","deprecated":false,"deprecationMessage":"","rawdescription":"\\n\\nThe name of the loader to be used. If in configuration there is only one, this property can be omitted, the default will be used.\\n","description":"<p>The name of the loader to be used. If in configuration there is only one, this property can be omitted, the default will be used.</p>\\n","line":80,"type":"string","decorators":[]},{"name":"objectFit","defaultValue":"\'cover\'","deprecated":false,"deprecationMessage":"","rawdescription":"\\n\\nThe image fit when using `layout=\\"fill\\"`.\\n","description":"<p>The image fit when using <code>layout=&quot;fill&quot;</code>.</p>\\n","line":123,"type":"ObjectFit","decorators":[]},{"name":"objectPosition","defaultValue":"\'50% 50%\'","deprecated":false,"deprecationMessage":"","rawdescription":"\\n\\nThe image fit when using `layout=\\"fill\\"`.\\n","description":"<p>The image fit when using <code>layout=&quot;fill&quot;</code>.</p>\\n","line":128,"type":"string","decorators":[]},{"name":"placeholder","defaultValue":"\'empty\'","deprecated":false,"deprecationMessage":"","rawdescription":"\\n\\nA placeholder to use while the image is loading in base, possible values are blur or empty. Defaults to `empty`.\\n\\nWhen `blur`, the `blurDataURL` property will be used as the placeholder.\\nIf using server-side rendering then `blurDataURL` will automatically be populated.\\n\\nWhen `empty`, there will be no placeholder while the image is loading, only empty space.\\n","description":"<p>A placeholder to use while the image is loading in base, possible values are blur or empty. Defaults to <code>empty</code>.</p>\\n<p>When <code>blur</code>, the <code>blurDataURL</code> property will be used as the placeholder.\\nIf using server-side rendering then <code>blurDataURL</code> will automatically be populated.</p>\\n<p>When <code>empty</code>, there will be no placeholder while the image is loading, only empty space.</p>\\n","line":105,"type":"ImagePlaceholder","decorators":[]},{"name":"priority","defaultValue":"false","deprecated":false,"deprecationMessage":"","rawdescription":"\\n\\nWhen true, the image will be considered high priority and preload.\\nShould only be used when the image is visible above the fold. Defaults to false.\\nIs used only in server-side rendering.\\n","description":"<p>When true, the image will be considered high priority and preload.\\nShould only be used when the image is visible above the fold. Defaults to false.\\nIs used only in server-side rendering.</p>\\n","line":95,"type":"boolean","decorators":[]},{"name":"sizes","defaultValue":"\'100vw\'","deprecated":false,"deprecationMessage":"","rawdescription":"\\n\\nA string mapping media queries to device sizes. Defaults to `100vw`.\\nWe recommend setting sizes when using `layout=\\"responsive\\"` or `layout=\\"fill\\"` and your image will not be the same width as the viewport.\\n","description":"<p>A string mapping media queries to device sizes. Defaults to <code>100vw</code>.\\nWe recommend setting sizes when using <code>layout=&quot;responsive&quot;</code> or <code>layout=&quot;fill&quot;</code> and your image will not be the same width as the viewport.</p>\\n","line":88,"type":"string","decorators":[]},{"name":"src","defaultValue":"\'\'","deprecated":false,"deprecationMessage":"","rawdescription":"\\n\\nRequired, must be a path string. This can be either an absolute external URL, or an internal path depending on the loader.\\n","description":"<p>Required, must be a path string. This can be either an absolute external URL, or an internal path depending on the loader.</p>\\n","line":35,"type":"string","decorators":[]},{"name":"unoptimized","defaultValue":"false","deprecated":false,"deprecationMessage":"","rawdescription":"\\n\\nWhen true, the source image will be served as-is instead of changing quality, size, or format. Defaults to `false`.\\n","description":"<p>When true, the source image will be served as-is instead of changing quality, size, or format. Defaults to <code>false</code>.</p>\\n","line":118,"type":"boolean","decorators":[]},{"name":"width","deprecated":false,"deprecationMessage":"","rawdescription":"\\n\\nThe width of the image, in pixels. Must be an integer without a unit.\\nRequired, except for those with `layout=\\"fill\\"`.\\n","description":"<p>The width of the image, in pixels. Must be an integer without a unit.\\nRequired, except for those with <code>layout=&quot;fill&quot;</code>.</p>\\n","line":47,"type":"number | undefined","decorators":[]}],"outputsClass":[{"name":"loadingComplete","defaultValue":"new EventEmitter<void>()","deprecated":false,"deprecationMessage":"","rawdescription":"\\n\\nOutput emits once the image is completely loaded and the placeholder has been removed.\\n","description":"<p>Output emits once the image is completely loaded and the placeholder has been removed.</p>\\n","line":133,"type":"EventEmitter"}],"propertiesClass":[{"name":"blurBackgroundImage$","defaultValue":"this.changes$.pipe(\\n    map(() => {\\n      if (this.placeholder === \'blur\') {\\n        return this.blurDataURL ? `url(\\"${this.blurDataURL}\\")` : `url(\\"${this.imageLoader.getPlaceholderSrc(this.src)}\\")`;\\n      } else {\\n        return \'none\';\\n      }\\n    })\\n  )","deprecated":false,"deprecationMessage":"","type":"Observable<string>","optional":false,"description":"","line":204,"modifierKind":[144]},{"name":"blurFilter$","defaultValue":"this.changes$.pipe(\\n    switchMap(() => this.isImageLoaded$),\\n    map((isImageLoaded) => {\\n      if (this.placeholder === \'blur\' && this.blurDataURL && !isImageLoaded) {\\n        return `blur(20px)`;\\n      } else {\\n        return \'none\';\\n      }\\n    })\\n  )","deprecated":false,"deprecationMessage":"","type":"Observable<string>","optional":false,"description":"","line":193,"modifierKind":[144]},{"name":"image","deprecated":false,"deprecationMessage":"","type":"ElementRef<HTMLImageElement>","optional":true,"description":"","line":30,"decorators":[{"name":"ViewChild","stringifiedArguments":"\'image\', {static: false}"}],"modifierKind":[144]},{"name":"isVisible$","defaultValue":"this.changes$.pipe(\\n    switchMap(() =>\\n      this.lazyLoadingSupport || this.priority\\n        ? of(true)\\n        : this.intersection.isVisible(this.elementRef.nativeElement, this.imageIntersectionObserverOptions)\\n    ),\\n    filter((isVisible) => isVisible),\\n    take(1)\\n  )","deprecated":false,"deprecationMessage":"","type":"Observable<boolean>","optional":false,"description":"","line":214,"modifierKind":[144]},{"name":"sizerSvg$","defaultValue":"this.changes$.pipe(\\n    map(() => {\\n      if (this.layout !== \'intrinsic\') {\\n        return null;\\n      }\\n\\n      // Create a placeholder svg and convert it to base64\\n      const sizerSvg: string = this.window.btoa(\\n        `<svg width=\\"${this.width}\\" height=\\"${this.height}\\" xmlns=\\"http://www.w3.org/2000/svg\\" version=\\"1.1\\"/>`\\n      );\\n\\n      return this.domSanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${sizerSvg}`);\\n    })\\n  )","deprecated":false,"deprecationMessage":"","type":"Observable<SafeUrl | null>","optional":false,"description":"","line":164,"modifierKind":[144]},{"name":"sources$","defaultValue":"this.changes$.pipe(\\n    map(() =>\\n      this.imageLoader.getImageSources({\\n        src: this.src,\\n        width: this.width,\\n        layout: this.layout,\\n        sizes: this.sizes,\\n        unoptimized: this.unoptimized,\\n      })\\n    )\\n  )","deprecated":false,"deprecationMessage":"","type":"Observable<ImageSources[]>","optional":false,"description":"","line":179,"modifierKind":[144]}],"methodsClass":[{"name":"getImageMime","args":[{"name":"_","type":"number","deprecated":false,"deprecationMessage":""},{"type":"ImageSources","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"ImageSources","typeParameters":[],"line":246,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"name":"_","type":"number","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"type":"ImageSources","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},{"name":"onLoad","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":250,"deprecated":false,"deprecationMessage":""}],"deprecated":false,"deprecationMessage":"","hostBindings":[],"hostListeners":[],"description":"","rawdescription":"\\n","type":"component","sourceCode":"import { coerceNumberProperty, NumberInput } from \'@angular/cdk/coercion\';\\nimport {\\n  Component,\\n  ChangeDetectionStrategy,\\n  Input,\\n  Output,\\n  EventEmitter,\\n  OnChanges,\\n  isDevMode,\\n  AfterViewInit,\\n  ViewChild,\\n  ElementRef,\\n  Inject,\\n} from \'@angular/core\';\\nimport { DomSanitizer, SafeUrl } from \'@angular/platform-browser\';\\nimport { Observable, of, Subject, filter, map, startWith, switchMap, take, BehaviorSubject } from \'rxjs\';\\n\\nimport { ImageLoader } from \'../loaders\';\\nimport { ImageLayout, ImagePlaceholder, ObjectFit, ImageSources } from \'../models\';\\nimport { IntersectionObserverService, ImageLoaderRegistry } from \'../services\';\\nimport { IMAGE_INTERSECTION_OBSERVER_OPTIONS, LAZY_LOAD_SUPPORT } from \'../tokens\';\\n\\n@Component({\\n  selector: \'image[src]\',\\n  templateUrl: \'image.component.html\',\\n  styleUrls: [\'image.component.scss\'],\\n  changeDetection: ChangeDetectionStrategy.OnPush,\\n})\\nexport class ImageComponent implements OnChanges, AfterViewInit {\\n  @ViewChild(\'image\', { static: false }) readonly image?: ElementRef<HTMLImageElement>;\\n\\n  /**\\n   * Required, must be a path string. This can be either an absolute external URL, or an internal path depending on the loader.\\n   */\\n  @Input() src = \'\';\\n\\n  /**\\n   * The `alt` attribute provides alternative information for an image if a user for some reason cannot view it\\n   * (because of slow connection, an error in the src attribute, or if the user uses a screen reader).\\n   */\\n  @Input() alt = \'\';\\n\\n  /**\\n   * The width of the image, in pixels. Must be an integer without a unit.\\n   * Required, except for those with `layout=\\"fill\\"`.\\n   */\\n  @Input() get width(): number | undefined {\\n    return this._width;\\n  }\\n  set width(v: NumberInput) {\\n    this._width = v != null ? Math.max(0, coerceNumberProperty(v)) : undefined;\\n  }\\n  private _width?: number;\\n\\n  /**\\n   * The height of the image, in pixels. Must be an integer without a unit.\\n   * Required, except for those with `layout=\\"fill\\"`.\\n   */\\n  @Input() get height(): number | undefined {\\n    return this._height;\\n  }\\n  set height(v: NumberInput) {\\n    this._height = v != null ? Math.max(0, coerceNumberProperty(v)) : undefined;\\n  }\\n  private _height?: number;\\n\\n  /**\\n   * The layout behavior of the image as the viewport changes size. Defaults to `intrinsic`.\\n   * TODO: confirm functionality with next.js\\n   * * When `fixed,` the image dimensions will not change as the viewport changes (no responsiveness) similar to the native img element.\\n   * * When `intrinsic`, the image will scale the dimensions down for smaller viewports but maintain the original dimensions for larger viewports.\\n   * * When `responsive`, the image will scale the dimensions down for smaller viewports and scale up for larger viewports.\\n   * * When `fill`, the image will stretch both width and height to the dimensions of the parent element, provided the parent element is relative. This is usually paired with the objectFit property.\\n   */\\n  @Input() layout: ImageLayout = \'intrinsic\';\\n\\n  /**\\n   * The name of the loader to be used. If in configuration there is only one, this property can be omitted, the default will be used.\\n   */\\n  @Input() set loader(loaderName: string) {\\n    this.imageLoader = this.imageLoaderRegistry.getLoader(loaderName);\\n  }\\n\\n  /**\\n   * A string mapping media queries to device sizes. Defaults to `100vw`.\\n   * We recommend setting sizes when using `layout=\\"responsive\\"` or `layout=\\"fill\\"` and your image will not be the same width as the viewport.\\n   */\\n  @Input() sizes = \'100vw\';\\n\\n  /**\\n   * When true, the image will be considered high priority and preload.\\n   * Should only be used when the image is visible above the fold. Defaults to false.\\n   * Is used only in server-side rendering.\\n   */\\n  @Input() priority = false;\\n\\n  /**\\n   * A placeholder to use while the image is loading in base, possible values are blur or empty. Defaults to `empty`.\\n   *\\n   * When `blur`, the `blurDataURL` property will be used as the placeholder.\\n   * If using server-side rendering then `blurDataURL` will automatically be populated.\\n   *\\n   * When `empty`, there will be no placeholder while the image is loading, only empty space.\\n   */\\n  @Input() placeholder: ImagePlaceholder = \'empty\';\\n\\n  /**\\n   * A Data URL to be used as a placeholder image before the `src` image successfully loads. Only takes effect when combined with `placeholder=\\"blur\\"`.\\n   * Must be a base64-encoded image. It will be enlarged and blurred, so a very small image (10px or less) is recommended. Including larger images as placeholders may harm your application performance.\\n   *\\n   * If not provided inline and the loader supports optimization a small placeholder will be fetched automatically.\\n   */\\n  @Input() blurDataURL?: string;\\n\\n  /**\\n   * When true, the source image will be served as-is instead of changing quality, size, or format. Defaults to `false`.\\n   */\\n  @Input() unoptimized = false;\\n\\n  /**\\n   * The image fit when using `layout=\\"fill\\"`.\\n   */\\n  @Input() objectFit: ObjectFit = \'cover\';\\n\\n  /**\\n   * The image fit when using `layout=\\"fill\\"`.\\n   */\\n  @Input() objectPosition = \'50% 50%\';\\n\\n  /**\\n   * Output emits once the image is completely loaded and the placeholder has been removed.\\n   */\\n  @Output() loadingComplete = new EventEmitter<void>(); // TODO: emit naturalWidth and naturalHeight\\n\\n  private imageLoader: ImageLoader = this.imageLoaderRegistry.getLoader();\\n\\n  get loading(): \'eager\' | \'lazy\' {\\n    return this.priority ? \'eager\' : \'lazy\';\\n  }\\n\\n  get showSizer(): boolean {\\n    return this.layout === \'intrinsic\' || this.layout === \'responsive\';\\n  }\\n\\n  get sizeRatio(): number {\\n    return this.height == null || this.width == null ? 0 : this.height / this.width;\\n  }\\n\\n  get sizerPaddingTop(): string {\\n    return this.layout === \'responsive\' ? `${this.sizeRatio * 100}%` : \'auto\';\\n  }\\n\\n  get wrapperWidth(): string {\\n    return this.layout === \'fixed\' ? `${this.width ?? 0}px` : \'auto\';\\n  }\\n\\n  get wrapperHeight(): string {\\n    return this.layout === \'fixed\' ? `${this.height ?? 0}px` : \'auto\';\\n  }\\n\\n  private readonly ngOnChanges$ = new Subject<void>();\\n  private readonly changes$: Observable<void> = this.ngOnChanges$.pipe(startWith(undefined as void));\\n\\n  readonly sizerSvg$: Observable<SafeUrl | null> = this.changes$.pipe(\\n    map(() => {\\n      if (this.layout !== \'intrinsic\') {\\n        return null;\\n      }\\n\\n      // Create a placeholder svg and convert it to base64\\n      const sizerSvg: string = this.window.btoa(\\n        `<svg width=\\"${this.width}\\" height=\\"${this.height}\\" xmlns=\\"http://www.w3.org/2000/svg\\" version=\\"1.1\\"/>`\\n      );\\n\\n      return this.domSanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${sizerSvg}`);\\n    })\\n  );\\n\\n  readonly sources$: Observable<ImageSources[]> = this.changes$.pipe(\\n    map(() =>\\n      this.imageLoader.getImageSources({\\n        src: this.src,\\n        width: this.width,\\n        layout: this.layout,\\n        sizes: this.sizes,\\n        unoptimized: this.unoptimized,\\n      })\\n    )\\n  );\\n\\n  private readonly isImageLoaded$ = new BehaviorSubject(false);\\n\\n  readonly blurFilter$: Observable<string> = this.changes$.pipe(\\n    switchMap(() => this.isImageLoaded$),\\n    map((isImageLoaded) => {\\n      if (this.placeholder === \'blur\' && this.blurDataURL && !isImageLoaded) {\\n        return `blur(20px)`;\\n      } else {\\n        return \'none\';\\n      }\\n    })\\n  );\\n\\n  readonly blurBackgroundImage$: Observable<string> = this.changes$.pipe(\\n    map(() => {\\n      if (this.placeholder === \'blur\') {\\n        return this.blurDataURL ? `url(\\"${this.blurDataURL}\\")` : `url(\\"${this.imageLoader.getPlaceholderSrc(this.src)}\\")`;\\n      } else {\\n        return \'none\';\\n      }\\n    })\\n  );\\n\\n  readonly isVisible$: Observable<boolean> = this.changes$.pipe(\\n    switchMap(() =>\\n      this.lazyLoadingSupport || this.priority\\n        ? of(true)\\n        : this.intersection.isVisible(this.elementRef.nativeElement, this.imageIntersectionObserverOptions)\\n    ),\\n    filter((isVisible) => isVisible),\\n    take(1)\\n  );\\n\\n  constructor(\\n    private readonly imageLoaderRegistry: ImageLoaderRegistry,\\n    private readonly window: Window,\\n    private readonly domSanitizer: DomSanitizer,\\n    private readonly elementRef: ElementRef,\\n    private readonly intersection: IntersectionObserverService,\\n    @Inject(LAZY_LOAD_SUPPORT) private readonly lazyLoadingSupport: boolean,\\n    @Inject(IMAGE_INTERSECTION_OBSERVER_OPTIONS) private readonly imageIntersectionObserverOptions: IntersectionObserverInit\\n  ) {}\\n\\n  ngOnChanges() {\\n    this.validateInputs();\\n    this.ngOnChanges$.next();\\n  }\\n\\n  ngAfterViewInit() {\\n    if (this.image?.nativeElement.complete) {\\n      // In case the image was rendered by SSR and already completed\\n      this.onLoad();\\n    }\\n  }\\n\\n  getImageMime(_: number, { mimeType: mime }: ImageSources) {\\n    return mime;\\n  }\\n\\n  onLoad() {\\n    if (!this.image) {\\n      return;\\n    }\\n\\n    if (this.image.nativeElement.src.startsWith(\'data:\')) {\\n      this.isImageLoaded$.next(true);\\n    } else {\\n      const decodePromise: Promise<void> = \'decode\' in this.image.nativeElement ? this.image.nativeElement.decode() : Promise.resolve();\\n\\n      decodePromise\\n        .catch(() => null)\\n        .then(() => {\\n          this.isImageLoaded$.next(true);\\n          this.loadingComplete.emit();\\n        });\\n    }\\n\\n    if (isDevMode() && this.layout === \'fixed\') {\\n      // Check if the size of the image was OK, can help while developing\\n      const { naturalWidth, naturalHeight } = this.image.nativeElement;\\n\\n      if (this.width != null && this.width != naturalWidth) {\\n        console.warn(`Image with src \\"${this.src}\\" should have \\"width\\" of ${naturalWidth}.`);\\n      }\\n\\n      if (this.height != null && this.height != naturalHeight) {\\n        console.warn(`Image with src \\"${this.src}\\" should have \\"height\\" of ${naturalHeight}.`);\\n      }\\n    }\\n  }\\n\\n  // eslint-disable-next-line sonarjs/cognitive-complexity\\n  private validateInputs() {\\n    if (this.src.startsWith(\'data:\')) {\\n      // https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\\n      this.unoptimized = true;\\n      this.priority = false;\\n    }\\n\\n    if (this.layout !== \'fill\' && (this.width == null || this.height == null || this.width <= 0 || this.height <= 0)) {\\n      throw new Error(`Image with src \\"${this.src}\\" must use \\"width\\" and \\"height\\" properties or \\"layout=\'fill\'\\" property.`);\\n    }\\n\\n    if (!isDevMode()) {\\n      return;\\n    }\\n\\n    // TODO: optimize production build\\n\\n    if (this.layout === \'fill\' && (this.width != null || this.height != null)) {\\n      console.warn(`Image with src \\"${this.src}\\" and \\"layout=\'fill\'\\" has unused properties assigned. Please remove \\"width\\" and \\"height\\".`);\\n    }\\n\\n    if (this.alt.trim().length === 0) {\\n      console.warn(`Image with src \\"${this.src}\\" must use an \\"alt\\" property.`);\\n    }\\n\\n    if (!this.unoptimized && !this.imageLoader.supportsWidth) {\\n      console.warn(\\n        `Image with src \\"${this.src}\\" uses a loader that does not implement width. Please implement it or use the \\"unoptimized\\" property instead.`\\n      );\\n    }\\n\\n    if (this.placeholder === \'blur\') {\\n      if (this.layout !== \'fill\' && (this.width ?? 0) * (this.height ?? 0) < 1600) {\\n        console.warn(\\n          `Image with src \\"${this.src}\\" is smaller than 40x40. Consider removing the \\"placeholder=\'blur\'\\" property to improve performance.`\\n        );\\n      }\\n\\n      if (!this.blurDataURL && !this.imageLoader.supportsWidth) {\\n        console.warn(\\n          `Image with src \\"${this.src}\\" has \\"placeholder=\'blur\'\\" property but is missing the \\"blurDataURL\\" property. ` +\\n            `Placeholder could be fetched from the loader, but it doesn\'t support optimization. ` +\\n            `Please implement it, or pass an inline \\"blurDataURL\\".`\\n        );\\n      }\\n    }\\n  }\\n\\n  // TODO: unit tests\\n  // TODO: in SSR use as background color the predominant one\\n  // TODO: generate blur placeholder in SSR\\n  // TODO: implement priority adding preload to head in SSR\\n}\\n","assetsDirs":[],"styleUrlsData":[{"data":":host {\\n  display: block;\\n  line-height: 0;\\n  font-size: 0;\\n}\\n\\n.wrapper {\\n  display: block;\\n  overflow: hidden;\\n  box-sizing: border-box;\\n  margin: 0;\\n\\n  &--fill {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    bottom: 0;\\n    right: 0;\\n  }\\n\\n  &--responsive {\\n    position: relative;\\n  }\\n\\n  &--intrinsic {\\n    display: inline-block;\\n    max-width: 100%;\\n    position: relative;\\n  }\\n\\n  &--fixed {\\n    display: inline-block;\\n    position: relative;\\n  }\\n\\n  & .sizer {\\n    display: block;\\n    box-sizing: border-box;\\n\\n    &--intrinsic {\\n      max-width: 100%;\\n    }\\n\\n    & .sizer__content {\\n      max-width: 100%;\\n      display: block;\\n      margin: 0;\\n      border: none;\\n      padding: 0;\\n    }\\n  }\\n}\\n\\n.img {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  bottom: 0;\\n  right: 0;\\n\\n  box-sizing: border-box;\\n  padding: 0;\\n  border: none;\\n  margin: auto;\\n\\n  display: block;\\n  width: 0;\\n  height: 0;\\n  min-width: 100%;\\n  max-width: 100%;\\n  min-height: 100%;\\n  max-height: 100%;\\n\\n  transition: filter 0.1s ease-in-out;\\n}\\n\\n@media (prefers-reduced-motion: reduce) {\\n  .img {\\n    transition: none;\\n  }\\n}\\n","styleUrl":"image.component.scss"}],"stylesData":"","constructorObj":{"name":"constructor","description":"","deprecated":false,"deprecationMessage":"","args":[{"name":"imageLoaderRegistry","type":"ImageLoaderRegistry","deprecated":false,"deprecationMessage":""},{"name":"window","type":"Window","deprecated":false,"deprecationMessage":""},{"name":"domSanitizer","type":"DomSanitizer","deprecated":false,"deprecationMessage":""},{"name":"elementRef","type":"ElementRef","deprecated":false,"deprecationMessage":""},{"name":"intersection","type":"IntersectionObserverService","deprecated":false,"deprecationMessage":""},{"name":"lazyLoadingSupport","type":"boolean","deprecated":false,"deprecationMessage":""},{"name":"imageIntersectionObserverOptions","type":"IntersectionObserverInit","deprecated":false,"deprecationMessage":""}],"line":222,"jsdoctags":[{"name":"imageLoaderRegistry","type":"ImageLoaderRegistry","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"window","type":"Window","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"domSanitizer","type":"DomSanitizer","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"elementRef","type":"ElementRef","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"intersection","type":"IntersectionObserverService","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"lazyLoadingSupport","type":"boolean","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}},{"name":"imageIntersectionObserverOptions","type":"IntersectionObserverInit","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},"implements":["OnChanges","AfterViewInit"],"accessors":{"width":{"name":"width","setSignature":{"name":"width","type":"void","deprecated":false,"deprecationMessage":"","args":[{"name":"v","type":"NumberInput","deprecated":false,"deprecationMessage":""}],"returnType":"void","line":50,"jsdoctags":[{"name":"v","type":"NumberInput","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},"getSignature":{"name":"width","type":"","returnType":"number | undefined","line":47,"rawdescription":"\\n\\nThe width of the image, in pixels. Must be an integer without a unit.\\nRequired, except for those with `layout=\\"fill\\"`.\\n","description":"<p>The width of the image, in pixels. Must be an integer without a unit.\\nRequired, except for those with <code>layout=&quot;fill&quot;</code>.</p>\\n"}},"height":{"name":"height","setSignature":{"name":"height","type":"void","deprecated":false,"deprecationMessage":"","args":[{"name":"v","type":"NumberInput","deprecated":false,"deprecationMessage":""}],"returnType":"void","line":62,"jsdoctags":[{"name":"v","type":"NumberInput","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},"getSignature":{"name":"height","type":"","returnType":"number | undefined","line":59,"rawdescription":"\\n\\nThe height of the image, in pixels. Must be an integer without a unit.\\nRequired, except for those with `layout=\\"fill\\"`.\\n","description":"<p>The height of the image, in pixels. Must be an integer without a unit.\\nRequired, except for those with <code>layout=&quot;fill&quot;</code>.</p>\\n"}},"loader":{"name":"loader","setSignature":{"name":"loader","type":"void","deprecated":false,"deprecationMessage":"","args":[{"name":"loaderName","type":"string","deprecated":false,"deprecationMessage":""}],"returnType":"void","line":80,"rawdescription":"\\n\\nThe name of the loader to be used. If in configuration there is only one, this property can be omitted, the default will be used.\\n","description":"<p>The name of the loader to be used. If in configuration there is only one, this property can be omitted, the default will be used.</p>\\n","jsdoctags":[{"name":"loaderName","type":"string","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]}},"loading":{"name":"loading","getSignature":{"name":"loading","type":"","returnType":"\\"eager\\" | \\"lazy\\"","line":137}},"showSizer":{"name":"showSizer","getSignature":{"name":"showSizer","type":"boolean","returnType":"boolean","line":141}},"sizeRatio":{"name":"sizeRatio","getSignature":{"name":"sizeRatio","type":"number","returnType":"number","line":145}},"sizerPaddingTop":{"name":"sizerPaddingTop","getSignature":{"name":"sizerPaddingTop","type":"string","returnType":"string","line":149}},"wrapperWidth":{"name":"wrapperWidth","getSignature":{"name":"wrapperWidth","type":"string","returnType":"string","line":153}},"wrapperHeight":{"name":"wrapperHeight","getSignature":{"name":"wrapperHeight","type":"string","returnType":"string","line":157}}},"templateData":"<div\\n  class=\\"wrapper wrapper--{{ layout }}\\"\\n  [style.width]=\\"wrapperWidth\\"\\n  [style.height]=\\"wrapperHeight\\"\\n  *ngIf=\\"{ isVisible: isVisible$ | async } as context\\"\\n>\\n  <div class=\\"sizer sizer--{{ layout }}\\" [style.padding-top]=\\"sizerPaddingTop\\" *ngIf=\\"showSizer\\">\\n    <img *ngIf=\\"sizerSvg$ | async as sizerSrc\\" [src]=\\"sizerSrc\\" class=\\"sizer__content\\" aria-hidden=\\"true\\" alt=\\"\\" role=\\"presentation\\" />\\n  </div>\\n  <picture>\\n    <ng-container *ngFor=\\"let source of sources$ | async; let last = last; trackBy: getImageMime\\">\\n      <ng-template #sourceTemplate>\\n        <source [type]=\\"source.mimeType\\" [srcset]=\\"source.srcset\\" [sizes]=\\"sizes\\" />\\n      </ng-template>\\n      <img\\n        #image\\n        *ngIf=\\"last; else sourceTemplate\\"\\n        class=\\"img\\"\\n        [alt]=\\"alt\\"\\n        [attr.loading]=\\"loading\\"\\n        decoding=\\"async\\"\\n        [style.objectFit]=\\"objectFit\\"\\n        [style.objectPosition]=\\"objectPosition\\"\\n        [style.backgroundSize]=\\"objectFit\\"\\n        [style.backgroundPosition]=\\"objectPosition\\"\\n        [style.backgroundImage]=\\"(blurBackgroundImage$ | async) ?? \'none\'\\"\\n        [style.filter]=\\"blurFilter$ | async\\"\\n        [srcset]=\\"context.isVisible ? source.srcset : \'\'\\"\\n        [sizes]=\\"context.isVisible ? source.sizes : \'\'\\"\\n        [src]=\\"context.isVisible ? source.src : \'\'\\"\\n        (load)=\\"onLoad()\\"\\n      />\\n    </ng-container>\\n  </picture>\\n</div>\\n"},{"name":"ImageListComponent","id":"component-ImageListComponent-4b32ed4ff9d57cb0995c9e59356d8fe721658da00f1d8dd9c7c6ffe51da36db8b42cc28b765560b349eae9de8d62ebc09f040c9ae15675f791a1a9dca46c988c","file":"src/lib/image-list.component.stories.ts","changeDetection":"ChangeDetectionStrategy.OnPush","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"styleUrls":[],"styles":[],"template":"<h2><code>layout=\\"intrinsic\\"</code></h2>\\n<image\\n  layout=\\"intrinsic\\"\\n  src=\\"unsplash/bear.jpg\\"\\n  alt=\\"Bear\\"\\n  [width]=\\"4752\\"\\n  [height]=\\"3168\\"\\n  placeholder=\\"blur\\"\\n  [blurDataURL]=\\"bearBase64\\"\\n></image>\\n\\n<h2><code>layout=\\"fixed\\"</code></h2>\\n<image layout=\\"fixed\\" loader=\\"akamai\\" src=\\"10.jpg\\" alt=\\"Car\\" [width]=\\"1366\\" [height]=\\"768\\" placeholder=\\"blur\\"></image>\\n\\n<h2><code>layout=\\"responsive\\"</code></h2>\\n<image layout=\\"intrinsic\\" src=\\"examples/kingfisher.jpg\\" alt=\\"Kingfisher\\" [width]=\\"4136\\" [height]=\\"2757\\" placeholder=\\"blur\\"></image>\\n\\n<h2><code>layout=\\"fill\\"</code></h2>\\n<div style=\\"width: 100%; height: 250px; position: relative\\">\\n  <image layout=\\"fill\\" loader=\\"cloudinary\\" src=\\"balloons.jpg\\" alt=\\"Balloons\\" placeholder=\\"blur\\"></image>\\n</div>\\n","templateUrl":[],"viewProviders":[],"inputsClass":[],"outputsClass":[],"propertiesClass":[{"name":"bearBase64","defaultValue":"`data:image/jpeg;base64,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`","deprecated":false,"deprecationMessage":"","type":"","optional":false,"description":"","line":35,"modifierKind":[144]}],"methodsClass":[],"deprecated":false,"deprecationMessage":"","hostBindings":[],"hostListeners":[],"description":"","rawdescription":"\\n","type":"component","sourceCode":"import { Component, ChangeDetectionStrategy, NgModule } from \'@angular/core\';\\nimport { moduleMetadata, Meta, Story } from \'@storybook/angular\';\\n\\nimport { ImageComponent } from \'./component\';\\nimport { ImageModule } from \'./image.module\';\\nimport { akamaiImageLoader, cloudinaryImageLoader, ImigixImageLoader } from \'./loaders\';\\n\\n@Component({\\n  template: `\\n    <h2><code>layout=\\"intrinsic\\"</code></h2>\\n    <image\\n      layout=\\"intrinsic\\"\\n      src=\\"unsplash/bear.jpg\\"\\n      alt=\\"Bear\\"\\n      [width]=\\"4752\\"\\n      [height]=\\"3168\\"\\n      placeholder=\\"blur\\"\\n      [blurDataURL]=\\"bearBase64\\"\\n    ></image>\\n\\n    <h2><code>layout=\\"fixed\\"</code></h2>\\n    <image layout=\\"fixed\\" loader=\\"akamai\\" src=\\"10.jpg\\" alt=\\"Car\\" [width]=\\"1366\\" [height]=\\"768\\" placeholder=\\"blur\\"></image>\\n\\n    <h2><code>layout=\\"responsive\\"</code></h2>\\n    <image layout=\\"intrinsic\\" src=\\"examples/kingfisher.jpg\\" alt=\\"Kingfisher\\" [width]=\\"4136\\" [height]=\\"2757\\" placeholder=\\"blur\\"></image>\\n\\n    <h2><code>layout=\\"fill\\"</code></h2>\\n    <div style=\\"width: 100%; height: 250px; position: relative\\">\\n      <image layout=\\"fill\\" loader=\\"cloudinary\\" src=\\"balloons.jpg\\" alt=\\"Balloons\\" placeholder=\\"blur\\"></image>\\n    </div>\\n  `,\\n  changeDetection: ChangeDetectionStrategy.OnPush,\\n})\\nclass ImageListComponent {\\n  readonly bearBase64 = `data:image/jpeg;base64,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`;\\n}\\n\\n@NgModule({\\n  imports: [ImageModule],\\n  declarations: [ImageListComponent],\\n  exports: [ImageListComponent],\\n})\\nclass ImageListModule {}\\n\\nexport default {\\n  title: \'Image\',\\n  component: ImageListComponent,\\n  decorators: [\\n    moduleMetadata({\\n      imports: [\\n        ImageModule.forRoot({\\n          loaders: [\\n            ImigixImageLoader,\\n            cloudinaryImageLoader(\'https://res.cloudinary.com/idemo/image/upload\'),\\n            akamaiImageLoader(\'https://www.akamai.com/content/dam/site/im-demo/media-viewer/\'),\\n          ],\\n        }),\\n        ImageListModule,\\n      ],\\n    }),\\n  ],\\n  parameters: {\\n    controls: { include: [] },\\n    // TODO: https://github.com/storybookjs/storybook/issues/7149\\n    // options: { showPanel: false },\\n  },\\n} as Meta<ImageComponent>;\\n\\nconst Template: Story<ImageListComponent> = (args: ImageListComponent) => ({\\n  component: ImageListComponent,\\n  props: args,\\n});\\n\\nexport const Example = Template.bind({});\\nExample.args = {};\\n","assetsDirs":[],"styleUrlsData":"","stylesData":""}],"modules":[{"name":"ImageListModule","id":"module-ImageListModule-4b32ed4ff9d57cb0995c9e59356d8fe721658da00f1d8dd9c7c6ffe51da36db8b42cc28b765560b349eae9de8d62ebc09f040c9ae15675f791a1a9dca46c988c","description":"","deprecationMessage":"","deprecated":false,"file":"src/lib/image-list.component.stories.ts","methods":[],"sourceCode":"import { Component, ChangeDetectionStrategy, NgModule } from \'@angular/core\';\\nimport { moduleMetadata, Meta, Story } from \'@storybook/angular\';\\n\\nimport { ImageComponent } from \'./component\';\\nimport { ImageModule } from \'./image.module\';\\nimport { akamaiImageLoader, cloudinaryImageLoader, ImigixImageLoader } from \'./loaders\';\\n\\n@Component({\\n  template: `\\n    <h2><code>layout=\\"intrinsic\\"</code></h2>\\n    <image\\n      layout=\\"intrinsic\\"\\n      src=\\"unsplash/bear.jpg\\"\\n      alt=\\"Bear\\"\\n      [width]=\\"4752\\"\\n      [height]=\\"3168\\"\\n      placeholder=\\"blur\\"\\n      [blurDataURL]=\\"bearBase64\\"\\n    ></image>\\n\\n    <h2><code>layout=\\"fixed\\"</code></h2>\\n    <image layout=\\"fixed\\" loader=\\"akamai\\" src=\\"10.jpg\\" alt=\\"Car\\" [width]=\\"1366\\" [height]=\\"768\\" placeholder=\\"blur\\"></image>\\n\\n    <h2><code>layout=\\"responsive\\"</code></h2>\\n    <image layout=\\"intrinsic\\" src=\\"examples/kingfisher.jpg\\" alt=\\"Kingfisher\\" [width]=\\"4136\\" [height]=\\"2757\\" placeholder=\\"blur\\"></image>\\n\\n    <h2><code>layout=\\"fill\\"</code></h2>\\n    <div style=\\"width: 100%; height: 250px; position: relative\\">\\n      <image layout=\\"fill\\" loader=\\"cloudinary\\" src=\\"balloons.jpg\\" alt=\\"Balloons\\" placeholder=\\"blur\\"></image>\\n    </div>\\n  `,\\n  changeDetection: ChangeDetectionStrategy.OnPush,\\n})\\nclass ImageListComponent {\\n  readonly bearBase64 = `data:image/jpeg;base64,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`;\\n}\\n\\n@NgModule({\\n  imports: [ImageModule],\\n  declarations: [ImageListComponent],\\n  exports: [ImageListComponent],\\n})\\nclass ImageListModule {}\\n\\nexport default {\\n  title: \'Image\',\\n  component: ImageListComponent,\\n  decorators: [\\n    moduleMetadata({\\n      imports: [\\n        ImageModule.forRoot({\\n          loaders: [\\n            ImigixImageLoader,\\n            cloudinaryImageLoader(\'https://res.cloudinary.com/idemo/image/upload\'),\\n            akamaiImageLoader(\'https://www.akamai.com/content/dam/site/im-demo/media-viewer/\'),\\n          ],\\n        }),\\n        ImageListModule,\\n      ],\\n    }),\\n  ],\\n  parameters: {\\n    controls: { include: [] },\\n    // TODO: https://github.com/storybookjs/storybook/issues/7149\\n    // options: { showPanel: false },\\n  },\\n} as Meta<ImageComponent>;\\n\\nconst Template: Story<ImageListComponent> = (args: ImageListComponent) => ({\\n  component: ImageListComponent,\\n  props: args,\\n});\\n\\nexport const Example = Template.bind({});\\nExample.args = {};\\n","children":[{"type":"providers","elements":[]},{"type":"declarations","elements":[{"name":"ImageListComponent"}]},{"type":"imports","elements":[{"name":"ImageModule"}]},{"type":"exports","elements":[{"name":"ImageListComponent"}]},{"type":"bootstrap","elements":[]},{"type":"classes","elements":[]}]},{"name":"ImageModule","id":"module-ImageModule-440ef9d1f856f682008f7c37ee9af741f5c87977c85a83cd8c253dc32873d573f9a10b208e396f0f61d46a28994958718f7f452b105379a4639ed1cdb4bb106c","description":"","deprecationMessage":"","deprecated":false,"file":"src/lib/image.module.ts","methods":[{"name":"forRoot","args":[{"type":"ImageModuleConfig","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"ModuleWithProviders<ImageModule>","typeParameters":[],"line":22,"deprecated":false,"deprecationMessage":"","modifierKind":[124],"jsdoctags":[{"type":"ImageModuleConfig","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]}],"sourceCode":"import { CommonModule } from \'@angular/common\';\\nimport { Inject, ModuleWithProviders, NgModule, Provider, Type } from \'@angular/core\';\\n\\nimport { defaultImageOptimizerConfig, ImageOptimizerConfig } from \'@ng-easy/image-config\';\\n\\nimport { ImageComponent } from \'./component\';\\nimport { ImageLoader } from \'./loaders\';\\nimport { ImageLoaderRegistry } from \'./services\';\\nimport { IMAGE_OPTIMIZER_CONFIG } from \'./tokens\';\\n\\nexport interface ImageModuleConfig {\\n  imageOptimizerConfig?: ImageOptimizerConfig;\\n  loaders: (Type<ImageLoader> | (() => ImageLoader))[];\\n}\\n\\n@NgModule({\\n  declarations: [ImageComponent],\\n  imports: [CommonModule],\\n  exports: [ImageComponent],\\n})\\nexport class ImageModule {\\n  static forRoot({ imageOptimizerConfig, loaders }: ImageModuleConfig): ModuleWithProviders<ImageModule> {\\n    const classLoaders: Type<ImageLoader>[] = loaders.filter((loader): loader is Type<ImageLoader> => loader.prototype != null);\\n    const factoryLoaders: (() => ImageLoader)[] = loaders.filter((loader): loader is () => ImageLoader => loader.prototype == null);\\n\\n    return {\\n      ngModule: ImageModule,\\n      providers: [\\n        ...classLoaders.map((loader): Provider => ({ provide: ImageLoader, useClass: loader, multi: true })),\\n        ...factoryLoaders.map((loader): Provider => ({ provide: ImageLoader, useFactory: loader, multi: true })),\\n        { provide: IMAGE_OPTIMIZER_CONFIG, useValue: imageOptimizerConfig ?? defaultImageOptimizerConfig },\\n        { provide: Window, useValue: window },\\n      ],\\n    };\\n  }\\n\\n  constructor(@Inject(ImageLoader) loaders: ImageLoader[], loaderRegistry: ImageLoaderRegistry) {\\n    loaderRegistry.registerLoaders(loaders);\\n  }\\n}\\n","children":[{"type":"providers","elements":[]},{"type":"declarations","elements":[{"name":"ImageComponent"}]},{"type":"imports","elements":[]},{"type":"exports","elements":[{"name":"ImageComponent"}]},{"type":"bootstrap","elements":[]},{"type":"classes","elements":[]}]}],"miscellaneous":{"variables":[{"name":"akamaiImageLoader","ctype":"miscellaneous","subtype":"variable","file":"src/lib/loaders/akamai-loader.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"(root: string) => () => {\\n  return new AkamaiImageLoader(root, inject(IMAGE_OPTIMIZER_CONFIG));\\n}"},{"name":"cloudinaryImageLoader","ctype":"miscellaneous","subtype":"variable","file":"src/lib/loaders/cloudinary-loader.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"(root: string) => () => {\\n  return new CloudinaryImageLoader(root, inject(IMAGE_OPTIMIZER_CONFIG));\\n}"},{"name":"dataSavingImageIntersectionObserverOptions","ctype":"miscellaneous","subtype":"variable","file":"src/lib/tokens/image-intersection-observer-options.ts","deprecated":false,"deprecationMessage":"","type":"IntersectionObserverInit","defaultValue":"{ root: document.body, rootMargin: \'1250px\' }"},{"name":"defaultIntersectionObserverOptions","ctype":"miscellaneous","subtype":"variable","file":"src/lib/services/intersection-observer.service.ts","deprecated":false,"deprecationMessage":"","type":"IntersectionObserverInit","defaultValue":"{}"},{"name":"Example","ctype":"miscellaneous","subtype":"variable","file":"src/lib/image-list.component.stories.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"Template.bind({})"},{"name":"Fill","ctype":"miscellaneous","subtype":"variable","file":"src/lib/image.component.stories.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"Template.bind({})"},{"name":"Fixed","ctype":"miscellaneous","subtype":"variable","file":"src/lib/image.component.stories.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"Template.bind({})"},{"name":"IMAGE_INTERSECTION_OBSERVER_OPTIONS","ctype":"miscellaneous","subtype":"variable","file":"src/lib/tokens/image-intersection-observer-options.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"new InjectionToken<IntersectionObserverInit>(\\n  \'@ng-easy/image:image-intersection-observer-options\',\\n  {\\n    providedIn: \'root\',\\n    factory: () => {\\n      if (!(\'connection\' in window.navigator)) {\\n        return normalImageIntersectionObserverOptions;\\n      }\\n\\n      const connection: NavigatorConnection = (window.navigator as any).connection;\\n\\n      if (connection.saveData) {\\n        return dataSavingImageIntersectionObserverOptions;\\n      }\\n\\n      switch (connection.effectiveType) {\\n        case \'slow-2g\':\\n        case \'2g\':\\n        case \'3g\':\\n          return dataSavingImageIntersectionObserverOptions;\\n        case \'4g\':\\n          return normalImageIntersectionObserverOptions;\\n      }\\n    },\\n  }\\n)"},{"name":"IMAGE_OPTIMIZER_CONFIG","ctype":"miscellaneous","subtype":"variable","file":"src/lib/tokens/image-optimizer-config.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"new InjectionToken<ImageOptimizerConfig>(\'@ng-easy/image:image-optimizer-config\')"},{"name":"Intrinsic","ctype":"miscellaneous","subtype":"variable","file":"src/lib/image.component.stories.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"Template.bind({})"},{"name":"LAZY_LOAD_SUPPORT","ctype":"miscellaneous","subtype":"variable","file":"src/lib/tokens/lazy-loading-support.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"new InjectionToken<boolean>(\'@ng-easy/image:lazy-load-support\', {\\n  providedIn: \'root\',\\n  factory: () => {\\n    return \'loading\' in HTMLImageElement.prototype;\\n  },\\n})"},{"name":"normalImageIntersectionObserverOptions","ctype":"miscellaneous","subtype":"variable","file":"src/lib/tokens/image-intersection-observer-options.ts","deprecated":false,"deprecationMessage":"","type":"IntersectionObserverInit","defaultValue":"{ root: document.body, rootMargin: \'2500px\' }"},{"name":"placeholderQuality","ctype":"miscellaneous","subtype":"variable","file":"src/lib/loaders/image-loader.ts","deprecated":false,"deprecationMessage":"","type":"number","defaultValue":"15"},{"name":"placeholderWidth","ctype":"miscellaneous","subtype":"variable","file":"src/lib/loaders/image-loader.ts","deprecated":false,"deprecationMessage":"","type":"number","defaultValue":"15"},{"name":"preferredOptimizedFormats","ctype":"miscellaneous","subtype":"variable","file":"src/lib/loaders/image-loader.ts","deprecated":false,"deprecationMessage":"","type":"ImageFormat[]","defaultValue":"[ImageFormat.Webp, ImageFormat.Avif, ImageFormat.Heif, ImageFormat.Jpeg] as const"},{"name":"randomWidth","ctype":"miscellaneous","subtype":"variable","file":"src/lib/loaders/image-loader.ts","deprecated":false,"deprecationMessage":"","type":"number","defaultValue":"Math.floor(Math.random() * 1000) + 100"},{"name":"Responsive","ctype":"miscellaneous","subtype":"variable","file":"src/lib/image.component.stories.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"Template.bind({})"},{"name":"Template","ctype":"miscellaneous","subtype":"variable","file":"src/lib/image-list.component.stories.ts","deprecated":false,"deprecationMessage":"","type":"Story<ImageListComponent>","defaultValue":"(args: ImageListComponent) => ({\\n  component: ImageListComponent,\\n  props: args,\\n})"},{"name":"Template","ctype":"miscellaneous","subtype":"variable","file":"src/lib/image.component.stories.ts","deprecated":false,"deprecationMessage":"","type":"Story<ImageComponent>","defaultValue":"(args: ImageComponent) => ({\\n  component: ImageComponent,\\n  props: args,\\n})"},{"name":"viewportWidthRe","ctype":"miscellaneous","subtype":"variable","file":"src/lib/loaders/image-loader.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"/(^|\\\\s)(1?\\\\d?\\\\d)vw/g"}],"functions":[{"name":"getQuality","file":"src/lib/functions/image-quality.ts","ctype":"miscellaneous","subtype":"function","deprecated":false,"deprecationMessage":"","description":"","args":[{"name":"configQuality","deprecated":false,"deprecationMessage":""}],"returnType":"number","jsdoctags":[{"name":"configQuality","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]}],"typealiases":[{"name":"ImageLayout","ctype":"miscellaneous","subtype":"typealias","rawtype":"\\"fixed\\" | \\"intrinsic\\" | \\"responsive\\" | \\"fill\\"","file":"src/lib/models/image-layout.ts","deprecated":false,"deprecationMessage":"","description":"<p>The layout behavior of the image as the viewport changes size. Defaults to <code>intrinsic</code>.</p>\\n<ul>\\n<li>When <code>fixed,</code> the image dimensions will not change as the viewport changes (no responsiveness) similar to the native img element.</li>\\n<li>When <code>intrinsic</code>, the image will scale the dimensions down for smaller viewports but maintain the original dimensions for larger viewports.</li>\\n<li>When <code>responsive</code>, the image will scale the dimensions down for smaller viewports and scale up for larger viewports.</li>\\n<li>When <code>fill</code>, the image will stretch both width and height to the dimensions of the parent element, provided the parent element is relative. This is usually paired with the objectFit property.</li>\\n</ul>\\n","kind":186},{"name":"ImagePlaceholder","ctype":"miscellaneous","subtype":"typealias","rawtype":"\\"empty\\" | \\"blur\\"","file":"src/lib/models/image-placeholder.ts","deprecated":false,"deprecationMessage":"","description":"","kind":186},{"name":"ObjectFit","ctype":"miscellaneous","subtype":"typealias","rawtype":"\\"contain\\" | \\"cover\\" | \\"fill\\" | \\"none\\" | \\"scale-down\\"","file":"src/lib/models/object-fit.ts","deprecated":false,"deprecationMessage":"","description":"","kind":186}],"enumerations":[],"groupedVariables":{"src/lib/loaders/akamai-loader.ts":[{"name":"akamaiImageLoader","ctype":"miscellaneous","subtype":"variable","file":"src/lib/loaders/akamai-loader.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"(root: string) => () => {\\n  return new AkamaiImageLoader(root, inject(IMAGE_OPTIMIZER_CONFIG));\\n}"}],"src/lib/loaders/cloudinary-loader.ts":[{"name":"cloudinaryImageLoader","ctype":"miscellaneous","subtype":"variable","file":"src/lib/loaders/cloudinary-loader.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"(root: string) => () => {\\n  return new CloudinaryImageLoader(root, inject(IMAGE_OPTIMIZER_CONFIG));\\n}"}],"src/lib/tokens/image-intersection-observer-options.ts":[{"name":"dataSavingImageIntersectionObserverOptions","ctype":"miscellaneous","subtype":"variable","file":"src/lib/tokens/image-intersection-observer-options.ts","deprecated":false,"deprecationMessage":"","type":"IntersectionObserverInit","defaultValue":"{ root: document.body, rootMargin: \'1250px\' }"},{"name":"IMAGE_INTERSECTION_OBSERVER_OPTIONS","ctype":"miscellaneous","subtype":"variable","file":"src/lib/tokens/image-intersection-observer-options.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"new InjectionToken<IntersectionObserverInit>(\\n  \'@ng-easy/image:image-intersection-observer-options\',\\n  {\\n    providedIn: \'root\',\\n    factory: () => {\\n      if (!(\'connection\' in window.navigator)) {\\n        return normalImageIntersectionObserverOptions;\\n      }\\n\\n      const connection: NavigatorConnection = (window.navigator as any).connection;\\n\\n      if (connection.saveData) {\\n        return dataSavingImageIntersectionObserverOptions;\\n      }\\n\\n      switch (connection.effectiveType) {\\n        case \'slow-2g\':\\n        case \'2g\':\\n        case \'3g\':\\n          return dataSavingImageIntersectionObserverOptions;\\n        case \'4g\':\\n          return normalImageIntersectionObserverOptions;\\n      }\\n    },\\n  }\\n)"},{"name":"normalImageIntersectionObserverOptions","ctype":"miscellaneous","subtype":"variable","file":"src/lib/tokens/image-intersection-observer-options.ts","deprecated":false,"deprecationMessage":"","type":"IntersectionObserverInit","defaultValue":"{ root: document.body, rootMargin: \'2500px\' }"}],"src/lib/services/intersection-observer.service.ts":[{"name":"defaultIntersectionObserverOptions","ctype":"miscellaneous","subtype":"variable","file":"src/lib/services/intersection-observer.service.ts","deprecated":false,"deprecationMessage":"","type":"IntersectionObserverInit","defaultValue":"{}"}],"src/lib/image-list.component.stories.ts":[{"name":"Example","ctype":"miscellaneous","subtype":"variable","file":"src/lib/image-list.component.stories.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"Template.bind({})"},{"name":"Template","ctype":"miscellaneous","subtype":"variable","file":"src/lib/image-list.component.stories.ts","deprecated":false,"deprecationMessage":"","type":"Story<ImageListComponent>","defaultValue":"(args: ImageListComponent) => ({\\n  component: ImageListComponent,\\n  props: args,\\n})"}],"src/lib/image.component.stories.ts":[{"name":"Fill","ctype":"miscellaneous","subtype":"variable","file":"src/lib/image.component.stories.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"Template.bind({})"},{"name":"Fixed","ctype":"miscellaneous","subtype":"variable","file":"src/lib/image.component.stories.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"Template.bind({})"},{"name":"Intrinsic","ctype":"miscellaneous","subtype":"variable","file":"src/lib/image.component.stories.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"Template.bind({})"},{"name":"Responsive","ctype":"miscellaneous","subtype":"variable","file":"src/lib/image.component.stories.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"Template.bind({})"},{"name":"Template","ctype":"miscellaneous","subtype":"variable","file":"src/lib/image.component.stories.ts","deprecated":false,"deprecationMessage":"","type":"Story<ImageComponent>","defaultValue":"(args: ImageComponent) => ({\\n  component: ImageComponent,\\n  props: args,\\n})"}],"src/lib/tokens/image-optimizer-config.ts":[{"name":"IMAGE_OPTIMIZER_CONFIG","ctype":"miscellaneous","subtype":"variable","file":"src/lib/tokens/image-optimizer-config.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"new InjectionToken<ImageOptimizerConfig>(\'@ng-easy/image:image-optimizer-config\')"}],"src/lib/tokens/lazy-loading-support.ts":[{"name":"LAZY_LOAD_SUPPORT","ctype":"miscellaneous","subtype":"variable","file":"src/lib/tokens/lazy-loading-support.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"new InjectionToken<boolean>(\'@ng-easy/image:lazy-load-support\', {\\n  providedIn: \'root\',\\n  factory: () => {\\n    return \'loading\' in HTMLImageElement.prototype;\\n  },\\n})"}],"src/lib/loaders/image-loader.ts":[{"name":"placeholderQuality","ctype":"miscellaneous","subtype":"variable","file":"src/lib/loaders/image-loader.ts","deprecated":false,"deprecationMessage":"","type":"number","defaultValue":"15"},{"name":"placeholderWidth","ctype":"miscellaneous","subtype":"variable","file":"src/lib/loaders/image-loader.ts","deprecated":false,"deprecationMessage":"","type":"number","defaultValue":"15"},{"name":"preferredOptimizedFormats","ctype":"miscellaneous","subtype":"variable","file":"src/lib/loaders/image-loader.ts","deprecated":false,"deprecationMessage":"","type":"ImageFormat[]","defaultValue":"[ImageFormat.Webp, ImageFormat.Avif, ImageFormat.Heif, ImageFormat.Jpeg] as const"},{"name":"randomWidth","ctype":"miscellaneous","subtype":"variable","file":"src/lib/loaders/image-loader.ts","deprecated":false,"deprecationMessage":"","type":"number","defaultValue":"Math.floor(Math.random() * 1000) + 100"},{"name":"viewportWidthRe","ctype":"miscellaneous","subtype":"variable","file":"src/lib/loaders/image-loader.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"/(^|\\\\s)(1?\\\\d?\\\\d)vw/g"}]},"groupedFunctions":{"src/lib/functions/image-quality.ts":[{"name":"getQuality","file":"src/lib/functions/image-quality.ts","ctype":"miscellaneous","subtype":"function","deprecated":false,"deprecationMessage":"","description":"","args":[{"name":"configQuality","deprecated":false,"deprecationMessage":""}],"returnType":"number","jsdoctags":[{"name":"configQuality","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]}]},"groupedEnumerations":{},"groupedTypeAliases":{"src/lib/models/image-layout.ts":[{"name":"ImageLayout","ctype":"miscellaneous","subtype":"typealias","rawtype":"\\"fixed\\" | \\"intrinsic\\" | \\"responsive\\" | \\"fill\\"","file":"src/lib/models/image-layout.ts","deprecated":false,"deprecationMessage":"","description":"<p>The layout behavior of the image as the viewport changes size. Defaults to <code>intrinsic</code>.</p>\\n<ul>\\n<li>When <code>fixed,</code> the image dimensions will not change as the viewport changes (no responsiveness) similar to the native img element.</li>\\n<li>When <code>intrinsic</code>, the image will scale the dimensions down for smaller viewports but maintain the original dimensions for larger viewports.</li>\\n<li>When <code>responsive</code>, the image will scale the dimensions down for smaller viewports and scale up for larger viewports.</li>\\n<li>When <code>fill</code>, the image will stretch both width and height to the dimensions of the parent element, provided the parent element is relative. This is usually paired with the objectFit property.</li>\\n</ul>\\n","kind":186}],"src/lib/models/image-placeholder.ts":[{"name":"ImagePlaceholder","ctype":"miscellaneous","subtype":"typealias","rawtype":"\\"empty\\" | \\"blur\\"","file":"src/lib/models/image-placeholder.ts","deprecated":false,"deprecationMessage":"","description":"","kind":186}],"src/lib/models/object-fit.ts":[{"name":"ObjectFit","ctype":"miscellaneous","subtype":"typealias","rawtype":"\\"contain\\" | \\"cover\\" | \\"fill\\" | \\"none\\" | \\"scale-down\\"","file":"src/lib/models/object-fit.ts","deprecated":false,"deprecationMessage":"","description":"","kind":186}]}}}');var parameters={controls:{expanded:!0}};(0,angular.P)(documentation_namespaceObject);var __namedExportsOrder=["parameters"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./storybook-init-framework-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/@storybook/angular/dist/ts3.9/client/index.js")},"./libs/image/src/lib/readme.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>readme_stories});__webpack_require__("./node_modules/react/index.js");var esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js");var _excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,esm.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,esm.kt)(dist_esm.h_,{title:"Image/README",mdxType:"Meta"}),(0,esm.kt)(dist_esm.dk,{mdxType:"Description"},'# @ng-easy/image\n\n[![CI](https://github.com/ng-easy/platform/actions/workflows/ci.yml/badge.svg)](https://github.com/ng-easy/platform/actions/workflows/ci.yml) [![npm latest version](https://img.shields.io/npm/v/@ng-easy/image/latest.svg)](https://www.npmjs.com/package/@ng-easy/image) [![README](https://img.shields.io/badge/README--green.svg)](/libs/image/README.md) [![CHANGELOG](https://img.shields.io/badge/CHANGELOG--orange.svg)](/libs/image/CHANGELOG.md) [![storybook](https://raw.githubusercontent.com/storybooks/brand/master/badge/badge-storybook.svg)](https://ng-easy.github.io/platform/storybook/image) ![semantic-release](https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg)\n\n## Why It Is Needed\n\nHandling images in web apps is complex. Some of the main issues that should be solved are:\n\n- Being responsive and download an image according to the screen width instead of downloading a huge high definition version.\n- Use modern formats such as `webp` if supported, but fallback to other images if not.\n- Use lazy loading for images below-the-fold.\n- Have visual stability by preventing [Cumulative Layout Shift](https://nextjs.org/learn/seo/web-performance/cls) automatically.\n- Have a placeholder while the image loads.\n- Adjust the quality of loaded images accordint to the network connection.\n\nAll these issues can be solved by using `@ng-easy/image`, which is batteries-on port to Angular of [`next/image`](https://nextjs.org/docs/api-reference/next/image). Iis an extension of the HTML `<img>` element, evolved for the modern web. It includes a variety of built-in performance optimizations to help you achieve good [Core Web Vitals](https://nextjs.org/learn/seo/web-performance). These scores are an important measurement of user experience on your website, and are factored into [Google\'s search rankings](https://nextjs.org/learn/seo/web-performance/seo-impact).\n\nSummary of benefits when using `@ng-easy/image`:\n\n- **Resizing:** shipping the right file size for each screen size\n- **Optimization for external sources:** works with any image source. Even if the image is hosted by an external data source, like a CMS, it can still be optimized!\n- **Low build times:** as image optimization is done on-demand, theres no need to create multiple images with different sizes and formats. Hence, the build time is not affected.\n- **Images are lazy-loaded by default.** That means your page speed isnt penalized for images outside the viewport. Images load as they are scrolled into the viewport, with optional blur-up placeholders.\n\n## Examples\n\n### [Background Image](https://ng-easy.github.io/platform/storybook/image/?path=/story/image-imagecomponent--fill)\n\nLet\'s use the component to load an image from [Cloudinary](https://res.cloudinary.com/idemo/image/upload/balloons.jpg) that has a size of `2509x1673px` and weights `1.03MB` and render it as a background image filling a container on an iPhone:\n\n```html\n<image loader="cloudinary" src="balloons.jpg" layout="fill" objectFit="cover"/></image>\n```\n\nWhen rendering it, the loaded image has a width of `1920px`, quality of `75%`, in format `webp` and weights only `355KB`.\n\n### [Responsive Image](https://ng-easy.github.io/platform/storybook/image/?path=/story/image-imagecomponent--responsive)\n\nSimilar scenario with a picture from [Imigix](https://assets.imgix.net/examples/kingfisher.jpg) that has a size of `4136x2757px` and weights `4.31MB` and render it as a regular image on an iPhone:\n\n```html\n<image loader="imigix" src="examples/kingfisher.jpg" layout="responsive" width="4136" height="2757"/></image>\n```\n\nWhen rendering it, the loaded image has a width of `1920px`, quality of `75%`, in format `webp` and weights only `116KB`. Notice that the dimensions are passed to prevent the CLS while the image loads.\n\n## Loaders\n\nNote that in the examples earlier, a partial URL is provided for a remote image. This is possible because of the `@ng-easy/image` loader architecture.\n\nA loader is a function that generates the URLs for your image. It appends a root domain to your provided `src`, and generates multiple URLs to request the image at different sizes. These multiple URLs are used in the automatic [`srcset`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/srcset) generation, so that visitors to your site will be served an image that is the right size for their viewport.\n\nIf you would like to serve your images directly from a CDN or image server, you can use one of the built-in loaders or write your own with a few lines of JavaScript.\n\nLoaders can be defined per-image, or at the application level. The component provides these built-in loaders for common CDNs:\n\n- [Akamai](https://github.com/ng-easy/platform/blob/main/libs/image/src/lib/loaders/akamai-loader.ts)\n- [Cloudinary](https://github.com/ng-easy/platform/blob/main/libs/image/src/lib/loaders/cloudinary-loader.ts)\n- [Imigix](https://github.com/ng-easy/platform/blob/main/libs/image/src/lib/loaders/imigix-loader.ts)\n\n## Priority\n\nYou should add the `priority` property to the image that will be the [Largest Contentful Paint (LCP)](https://web.dev/lcp/#what-elements-are-considered) element for each page. Doing so allows the component to specially prioritize the image for loading (e.g. through preload tags or priority hints), leading to a meaningful boost in LCP.\n\nThe LCP element is typically the largest image or text block visible within the viewport of the page. When you run the app, you\'ll see a console warning if the LCP element is an image without the `priority` property.\n\n## Image Sizing\n\nOne of the ways that images most commonly hurt performance is through _layout shift_, where the image pushes other elements around on the page as it loads in. This performance problem is so annoying to users that it has its own Core Web Vital, called [Cumulative Layout Shift](https://web.dev/cls/). The way to avoid image-based layout shifts is to [always size your images](https://web.dev/optimize-cls/#images-without-dimensions). This allows the browser to reserve precisely enough space for the image before it loads.\n\nBecause `@ng-easy/image` is designed to guarantee good performance results, it cannot be used in a way that will contribute to layout shift, and must be sized in one of three ways:\n\n- Explicitly, by including a `width` and `height` property\n- Implicitly, by using `layout="fill"` which causes the image to expand to fill its parent element.\n\n## Usage and Inputs\n\nDocumentation on the available inputs and their usage can be found in the [Storybook](https://ng-easy.github.io/platform/storybook/image) for this component.\n\nTo import the component in the app:\n\n```ts\n@NgModule({\n  imports: [\n    ImageModule.forRoot({\n      loaders: [\n        ImigixImageLoader,\n        cloudinaryImageLoader(\'https://res.cloudinary.com/idemo/image/upload\'),\n        akamaiImageLoader(\'https://www.akamai.com/content/dam/site/im-demo/media-viewer/\'),\n      ],\n    }),\n  ],\n})\nexport class AppModule {}\n```\n\n### width\n\nThe `width` property can represent either the _rendered_ width or _original_ width in pixels, depending on the [`layout`](#layout) and [`sizes`](#sizes) properties.\n\nWhen using `layout="intrinsic"` or `layout="fixed"` the `width` property represents the _rendered_ width in pixels, so it will affect how large the image appears.\n\nWhen using `layout="responsive"`, `layout="fill"`, the `width` property represents the _original_ width in pixels, so it will only affect the aspect ratio.\n\n### height\n\nThe `height` property can represent either the _rendered_ height or _original_ height in pixels, depending on the [`layout`](#layout) and [`sizes`](#sizes) properties.\n\nWhen using `layout="intrinsic"` or `layout="fixed"` the `height` property represents the _rendered_ height in pixels, so it will affect how large the image appears.\n\nWhen using `layout="responsive"`, `layout="fill"`, the `height` property represents the _original_ height in pixels, so it will only affect the aspect ratio.\n\n### layout\n\nThe layout behavior of the image as the viewport changes size.\n\n| `layout`              | Behavior                                                 | `srcSet`                                                                                                    | `sizes` | Has wrapper and sizer |\n| --------------------- | -------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------- | ------- | --------------------- |\n| `intrinsic` (default) | Scale _down_ to fit width of container, up to image size | `1x`, `2x` (based on [imageSizes](#image-sizes))                                                            | N/A     | yes                   |\n| `fixed`               | Sized to `width` and `height` exactly                    | `1x`, `2x` (based on [imageSizes](#image-sizes))                                                            | N/A     | yes                   |\n| `responsive`          | Scale to fit width of container                          | `640w`, `750w`, ... `2048w`, `3840w` (based on [imageSizes](#image-sizes) and [deviceSizes](#device-sizes)) | `100vw` | yes                   |\n| `fill`                | Grow in both X and Y axes to fill container              | `640w`, `750w`, ... `2048w`, `3840w` (based on [imageSizes](#image-sizes) and [deviceSizes](#device-sizes)) | `100vw` | yes                   |\n\n- [Demo the `intrinsic` layout (default)](https://ng-easy.github.io/platform/storybook/image/?path=/story/image-imagecomponent--intrinsic)\n  - When `intrinsic`, the image will scale the dimensions down for smaller viewports, but maintain the original dimensions for larger viewports.\n- [Demo the `fixed` layout](https://ng-easy.github.io/platform/storybook/image/?path=/story/image-imagecomponent--fixed)\n  - When `fixed`, the image dimensions will not change as the viewport changes (no responsiveness) similar to the native `img` element.\n- [Demo the `responsive` layout](https://ng-easy.github.io/platform/storybook/image/?path=/story/image-imagecomponent--responsive)\n  - When `responsive`, the image will scale the dimensions down for smaller viewports and scale up for larger viewports.\n  - Ensure the parent element uses `display: block` in their stylesheet.\n- [Demo the `fill` layout](https://ng-easy.github.io/platform/storybook/image/?path=/story/image-imagecomponent--fill)\n  - When `fill`, the image will stretch both width and height to the dimensions of the parent element, provided the parent element is relative.\n  - This is usually paired with the [`objectFit`](#objectFit) property.\n  - Ensure the parent element has `position: relative` in their stylesheet.\n\n### loader\n\nA `loader` is a provider returning a URL string for the image, given the following parameters:\n\n- [`src`](#src)\n- [`width`](#width)\n- [`quality`](#quality)\n\nThey are configured at the root module, and then made available to images. The first loader is considered the default, others can be used through their name.\n\n### sizes\n\nA string that provides information about how wide the image will be at different breakpoints. Defaults to `100vw` (the full width of the screen) when using `layout="responsive"` or `layout="fill"`.\n\nIf you are using `layout="fill"` or `layout="responsive"` it\'s important to assign `sizes` for any image that takes up less than the full viewport width.\n\nFor example, when the parent element will constrain the image to always be less than half the viewport width, use `sizes="50vw"`. Without `sizes`, the image will be sent at twice the necessary resolution, decreasing performance.\n\nIf you are using `layout="intrinsic"` or `layout="fixed"`, then `sizes` is not needed because the upper bound width is constrained already.\n\n[Learn more](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-sizes).\n\n### quality\n\nThe quality of the optimized image, an integer between `1` and `100` where `100` is the best quality. Defaults to `75`.\n\n### priority\n\nWhen true, the image will be considered high priority and\n[preload](https://web.dev/preload-responsive-images/). Lazy loading is automatically disabled for images using `priority`.\n\nYou should use the `priority` property on any image detected as the [Largest Contentful Paint (LCP)](https://web.dev/lcp/) element. It may be appropriate to have multiple priority images, as different images may be the LCP element for different viewport sizes.\n\nShould only be used when the image is visible above the fold. Defaults to `false`.\n\n### placeholder\n\nA placeholder to use while the image is loading. Possible values are `blur` or `empty`. Defaults to `empty`.\n\nWhen `blur`, the [`blurDataURL`](#blurdataurl) property will be used as the placeholder.\n\nFor dynamic images, you must provide the [`blurDataURL`](#blurdataurl) property. Solutions such as [Plaiceholder](https://github.com/joe-bell/plaiceholder) can help with `base64` generation.\n\nWhen `empty`, there will be no placeholder while the image is loading, only empty space.\n\nTry it out:\n\n- [Demo the `blur` placeholder](https://ng-easy.github.io/platform/storybook/image/?path=/story/image--example)\n\n### objectFit\n\nDefines how the image will fit into its parent container when using `layout="fill"`.\n\nThis value is passed to the [object-fit CSS property](https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit) for the `src` image.\n\n### objectPosition\n\nDefines how the image is positioned within its parent element when using `layout="fill"`.\n\nThis value is passed to the [object-position CSS property](https://developer.mozilla.org/en-US/docs/Web/CSS/object-position) applied to the image.\n\n### loadingComplete\n\nAn output function that is invoked once the image is completely loaded and the [placeholder](#placeholder) has been removed.\n\nThe `onLoadingComplete` function accepts one parameter, an object with the following properties:\n\n- [`naturalWidth`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/naturalWidth)\n- [`naturalHeight`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/naturalHeight)\n\n### blurDataURL\n\nA [Data URL](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs) to\nbe used as a placeholder image before the `src` image successfully loads. Only takes effect when combined\nwith [`placeholder="blur"`](#placeholder).\n\nMust be a base64-encoded image. It will be enlarged and blurred, so a very small image (10px or\nless) is recommended. Including larger images as placeholders may harm your application performance.\n\nTry it out:\n\n- [Demo the `blur` placeholder](https://ng-easy.github.io/platform/storybook/image/?path=/story/image--example)\n\nYou can also [generate a solid color Data URL](https://png-pixel.com) to match the image.\n\n### unoptimized\n\nWhen true, the source image will be served as-is instead of changing quality,\nsize, or format. Defaults to `false`.\n\n### Device Sizes\n\nIf you know the expected device widths of your users, you can specify a list of device width breakpoints using the `deviceSizes` property in `ImageModule.forRoot()`. These widths are used when the component uses `layout="responsive"` or `layout="fill"` to ensure the correct image is served for user\'s device.\n\nIf no configuration is provided, the default below is used:\n\n```ts\nImageModule.forRoot({\n  imageOptimizerConfig: {\n    deviceSizes: [640, 750, 828, 1080, 1200, 1920, 2048, 3840],\n  },\n});\n```\n\nRefer to [`@ng-easy/image-config`](https://github.com/ng-easy/platform/tree/main/libs/image-config) for more details.\n\n### Image Sizes\n\nYou can specify a list of image widths using the `imageSizes` property in your `ImageModule.forRoot()`. These widths are concatenated with the array of [device sizes](#device-sizes) to form the full array of sizes used to generate image [srcset](https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/srcset)s.\n\nThe reason there are two separate lists is that imageSizes is only used for images which provide a [`sizes`](#sizes) prop, which indicates that the image is less than the full width of the screen. **Therefore, the sizes in imageSizes should all be smaller than the smallest size in deviceSizes.**\n\nIf no configuration is provided, the default below is used:\n\n```ts\nImageModule.forRoot({\n  imageOptimizerConfig: {\n    imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],\n  },\n});\n```\n\n### Acceptable Formats\n\nWhen generating the images, multiple formats will be declared so that the browser can select the supported ones.\n\nIf no configuration is provided, the default below is used:\n\n```js\nImageModule.forRoot({\n  imageOptimizerConfig: {\n    formats: [ImageFormat.Jpeg, ImageFormat.Webp],\n  },\n});\n```\n\nYou can enable AVIF support with the following configuration.\n\n```js\nImageModule.forRoot({\n  imageOptimizerConfig: {\n    formats: [ImageFormat.Jpeg, ImageFormat.Avif],\n  },\n});\n```\n\n> Note: AVIF generally takes 20% longer to encode but it compresses 20% smaller compared to WebP. This means that the first time an image is requested, it will typically be slower and then subsequent requests that are cached will be faster.\n\n### Adjust Quality to Connection Type\n\nLow bandwidth connections benefit from loading images with a reduced quality. Devices might also define a [reduced data usage option](https://developer.mozilla.org/en-US/docs/Web/API/NetworkInformation/saveData). The image component will adjust the quality according to the configuration provided, being by default:\n\n```js\nImageModule.forRoot({\n  imageOptimizerConfig: {\n    quality: { \'slow-2g\': 30, \'2g\': 40, \'3g\': 50, \'4g\': 75, saveData: 40, default: 75 },\n  },\n});\n```\n'),";")}MDXContent.isMDXComponent=!0;var __page=function(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Image/README",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function(){return(0,esm.kt)(dist_esm.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,esm.kt)(MDXContent,null))}});const readme_stories=componentMeta;var __namedExportsOrder=["__page"]},"?4f7e":()=>{},"./generated-stories-entry.cjs":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/angular/dist/ts3.9/client/index.js").configure)([__webpack_require__("./libs/image/src/lib sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./libs/image/src/lib sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[269],(()=>(__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/angular/dist/ts3.9/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/angular/dist/ts3.9/client/preview/config.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-a11y/preview.js-generated-config-entry.js"),__webpack_exec__("./libs/image/.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs"))));__webpack_require__.O()}]);